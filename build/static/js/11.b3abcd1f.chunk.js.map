{"version":3,"sources":["components/SessionFiles/CheckboxListItem.tsx","components/SessionFiles/FileListing.tsx","components/SessionFiles/__config/constants.ts","components/SessionFiles/__config/styles.ts","pages/session-files.tsx","components/SessionFiles/__config/utilities.ts","components/SnackbarMsg/SnackbarMsg.tsx","components/IfElseLoading/IfElseLoading.tsx","components/Forms/CFC/initialValues.ts","components/Forms/CFC/calculateInitial.ts","components/SectionTitle/_config/styles.ts","components/SectionTitle/SectionTitle.tsx","components/PDF/PDFLib.ts","util/array/arrayFillWith.ts","data/healthChecks/HealthCheckLogic.ts","state/CFC/createCashFlow.tsx","components/PDF/CashFlowCanvasPDF.ts","components/ActionChecklist/ActionContainer/_config/data.ts","components/PDF/HealthCheckPDF.ts","components/PDF/ActionChecklistPDF.ts"],"names":["React","memo","label","checked","onClick","ListItem","button","ListItemIcon","Checkbox","edge","tabIndex","disableRipple","inputProps","ListItemText","title","setState","state","data","id","loading","handleChange","idx","prev","copy","ExpandableNav","IfElseLoading","if","List","component","disablePadding","length","map","item","CheckboxListItem","name","staticTitles","changeLevers","actionChecklist","discoverTopics","path","useStyles","makeStyles","theme","dropdownWrapper","marginTop","spacing","useSessionStyles","createStyles","backdrop","zIndex","drawer","color","SessionFiles","classes","cls","useState","healthChecks","cfc","arrayFillWith","selectedFiles","setSelectedFiles","setHealthChecks","setCfc","HCListing","setHCListing","CFCListing","setCFCListing","assetBaseUrl","process","REACT_APP_ASSETS_URL","fetching","setFetching","exporting","setExporting","useCurrentClient","currentClient","synced","open","msg","snackbar","setSnackbar","showSnackbar","severity","fetchData","useCallback","a","HealthCheckUseCase","findByClient","hcs","CFCUseCase","cfcs","reduce","acc","cur","concat","createdAt","format","canvasDisplayTitle","useEffect","changeSingleDownload","getStaticPdf","url","fetchPolyfill","method","then","response","arrayBuffer","buffer","fileName","makeStaticPdf","file","encodeURI","pdf","pdfMakeBlobPromise","filename","Promise","resolve","getBlob","b","blob","generateZip","zip","JSZip","CHPDF","ActionChecklistUseCase","checklists","ActionNotesUseCase","notes","ActionPriorityUseCase","pdfPriority","ActionChecklistPDF","ACPDF","DTPromises","val","filter","v","HCNames","HCPromises","pdfData","questions","forEach","q","i","question","answer","answers","text","options","push","replace","HealthCheckPDF","CFCNames","CFCPromises","calculated","calculateInitial","questionValues","one","calcQuestionOne","two","calcQuestionTwo","paygWithholding","superAmount","incomeTaxPercentage","three","calcQuestionThree","openingBalance","four","undefined","CashFlowCanvasPDF","all","res","names","blobPromises","res1","doc","hasProperty","generateAsync","type","content","saveAs","catch","Nav","SingleDownloads","Grid","container","xs","md","Box","className","SectionTitle","Typography","FileListing","Backdrop","CircularProgress","SnackbarMsg","onClose","event","reason","autoHideDuration","anchorOrigin","vertical","horizontal","variant","action","size","fontSize","children","Loading","initialValues","canvasTitle","canvasType","canvasTimeFrame","canvasStartDate","Date","canvasEndDate","incomeTax","cashToOwner","stock","creditors","debtors","assets","loans","cashInItems","createCashFlowItem","cashOutItems","gstOnPurchases","gstOnSales","values","isGSTValid","calcCashFlowGST","closingBalance","calcClosingBalance","totalNetAssets","calcTotalNetAssets","cashSurplus","calcCashSurplus","availableToSpend","calcAvailableToSpend","calcIncomeTaxPer","useSTStyles","fontWeight","marginBottom","breakpoints","down","typography","h5","props","styles","addPadding","margin","columns","pageDefaultSettings","pageSize","pageMargins","footer","alignment","frameContent","inner","style","table","widths","body","pageHeading","layout","pagePadding","basicTable","items","len","fill","Array","HealthCheckDB","clientId","this","database","transaction","where","first","equals","toArray","ILogicLayer","description","amount","gstApplicable","uuidv4","pdfMake","vfs","pdfFonts","formatDollars","value","addDollarSign","formatNumber","openingBalanceSection","cashInSection","cashInTotal","bold","line","gstOnSalesSection","cashOutSection","cashOutTotal","gstOnPurchasesSection","cashSurplusSection","incomeSection","availableToSpendSection","closingCashBalanceSection","yourNetAssetPositionSection","dbGSTOnPurchase","dbGSTOnSales","calcCashFlowTotal","calcTotalCashOut","docDefinition","upperFirst","pageHeader","fillColor","green","rightAlign","yellowBlock","spacer","defaultStyle","createPdf","actionTitleMapping","cashInActions","cashOutActions","planningBusiness","recordKeeping","funding","managing","planningCommitments","tracking","transition","questionElementTop","colSpan","purple","tableHeading","grey","positive","answerTheming","negative","neutral","itemsSection","reviewBy","completed","checklistCollection","priority","Object","keys","arr","actionContainer","note","prior","sortedItems","order","p","findIndex","x","lightBlue","heading","subHeading","noResult","italics","decoration"],"mappings":"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","file":"static/js/11.b3abcd1f.chunk.js","sourcesContent":["import React, { ReactElement } from \"react\"\nimport {\n\tListItem,\n\tListItemIcon,\n\tCheckbox,\n\tListItemText,\n} from \"@material-ui/core\"\nimport { CheckboxListItemProps } from \"./__config/shape\"\n\nexport default React.memo(\n\t({ label, checked, onClick }: CheckboxListItemProps): ReactElement => (\n\t\t<ListItem button onClick={onClick}>\n\t\t\t<ListItemIcon>\n\t\t\t\t<Checkbox\n\t\t\t\t\tedge=\"start\"\n\t\t\t\t\tchecked={checked}\n\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\tdisableRipple\n\t\t\t\t\tinputProps={{ \"aria-label\": label }}\n\t\t\t\t/>\n\t\t\t</ListItemIcon>\n\t\t\t<ListItemText>{label}</ListItemText>\n\t\t</ListItem>\n\t)\n)\n","import React, { ReactElement } from \"react\"\nimport { List, ListItem, ListItemText } from \"@material-ui/core\"\nimport ExpandableNav from \"../ExpandableNav\"\nimport IfElseLoading from \"../IfElseLoading\"\nimport { FileListingProps, FileListingStruct } from \"./__config/shape\"\nimport CheckboxListItem from \"./CheckboxListItem\"\n\nexport default React.memo(\n\t({\n\t\ttitle,\n\t\tsetState,\n\t\tstate,\n\t\tdata,\n\t\tid,\n\t\tloading = false,\n\t}: FileListingProps): ReactElement => {\n\t\tconst handleChange = (idx: number) => (): void => {\n\t\t\tsetState((prev) => {\n\t\t\t\tconst copy = [...prev[id]]\n\t\t\t\t// eslint-disable-next-line\n\t\t\tcopy[idx] = !copy[idx]\n\n\t\t\t\treturn {\n\t\t\t\t\t...prev,\n\t\t\t\t\t[id]: copy,\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\n\t\tfunction mapList(item: FileListingStruct, idx: number): ReactElement {\n\t\t\treturn (\n\t\t\t\t<CheckboxListItem\n\t\t\t\t\tkey={item.id}\n\t\t\t\t\tonClick={handleChange(idx)}\n\t\t\t\t\tchecked={state[idx]}\n\t\t\t\t\tlabel={item.name}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<ExpandableNav title={title}>\n\t\t\t\t<IfElseLoading if={!loading}>\n\t\t\t\t\t<List component=\"nav\" disablePadding>\n\t\t\t\t\t\t{data.length === 0 ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t\t\t<ListItemText>No data available to download</ListItemText>\n\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>{data.map(mapList)}</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</List>\n\t\t\t\t</IfElseLoading>\n\t\t\t</ExpandableNav>\n\t\t)\n\t}\n)\n","import { DiscoverTopicsStruct, SingleDownloadProps } from \"./shape\"\n\nexport const staticTitles: Record<SingleDownloadProps[\"id\"], string> = {\n\tchangeLevers: \"Change Levers\",\n\tactionChecklist: \"Action Checklist\",\n}\n\nexport const discoverTopics: DiscoverTopicsStruct[] = [\n\t{\n\t\tname: \"Planning your business - Quicksnaps\",\n\t\tid: \"Planning your business - Quicksnaps\",\n\t\tpath: \"/pdf/Planning your business - Quicksnaps.pdf\",\n\t},\n\t{\n\t\tname: \"Business Plan - Activity\",\n\t\tid: \"Business Plan - Activity\",\n\t\tpath: \"/pdf/BusinessPlan-Activity.pdf\",\n\t},\n\t{\n\t\tname: \"Record Keeping - Quicksnaps\",\n\t\tid: \"Record Keeping - Quicksnaps\",\n\t\tpath: \"/pdf/Record keeping - Quicksnaps.pdf\",\n\t},\n\t{\n\t\tname: \"Record Keeping - Activity\",\n\t\tid: \"Record Keeping - Activity\",\n\t\tpath: \"/pdf/RecordKeeping-Activity.pdf\",\n\t},\n\t{\n\t\tname: \"Funding your business - Quicksnaps\",\n\t\tid: \"Funding your business - Quicksnaps\",\n\t\tpath: \"/pdf/Funding your business - Quicksnaps.pdf\",\n\t},\n\t{\n\t\tname: \"Funding your business - Activity\",\n\t\tid: \"Funding your business - Activity\",\n\t\tpath: \"/pdf/Funding-Activity.pdf\",\n\t},\n\t{\n\t\tname: \"Managing your cash flow - Quicksnaps\",\n\t\tid: \"Managing your cash flow - Quicksnaps\",\n\t\tpath: \"/pdf/Managing your cash flow - Quicksnaps.pdf\",\n\t},\n\t{\n\t\tname: \"Planning your regular financial commitments - Quicksnaps\",\n\t\tid: \"Planning your regular financial commitments - Quicksnaps\",\n\t\tpath: \"/pdf/Planning your regular financial commitments - Quicksnaps.pdf\",\n\t},\n\t{\n\t\tname: \"Know your commitments - Activity\",\n\t\tid: \"Know your commitments - Activity\",\n\t\tpath: \"/pdf/KnowYourCommitments-Activity.pdf\",\n\t},\n\t{\n\t\tname: \"Tracking your performance - Quicksnaps\",\n\t\tid: \"Tracking your performance - Quicksnaps\",\n\t\tpath: \"/pdf/Tracking your performance - Quicksnaps.pdf\",\n\t},\n\t{\n\t\tname: \"Selling, closing and succession planning - Quicksnaps\",\n\t\tid: \"Selling, closing and succession planning - Quicksnaps\",\n\t\tpath: \"/pdf/Selling, closing and succession planning - Quicksnaps.pdf\",\n\t},\n]\n\nexport const changeLeversPath = \"/pdf/Change levers.pdf\"\n","import { makeStyles } from \"@material-ui/core\"\n\nconst useStyles = makeStyles((theme) => ({\n\tdropdownWrapper: {\n\t\tmarginTop: theme.spacing(3),\n\t},\n}))\n\nexport default useStyles\n","import React, { ReactElement, useState, useCallback, useEffect } from \"react\"\nimport {\n\tGrid,\n\tTypography,\n\tList,\n\tListItem,\n\tListItemIcon,\n\tListItemText,\n\tBox,\n\tmakeStyles,\n\tTheme,\n\tcreateStyles,\n\tBackdrop,\n\tCircularProgress,\n} from \"@material-ui/core\"\nimport GetAppIcon from \"@material-ui/icons/GetApp\"\nimport JSZip from \"jszip\"\nimport { fetch as fetchPolyfill } from \"whatwg-fetch\"\nimport { saveAs } from \"file-saver\"\nimport { format } from \"date-fns\"\nimport { HealthCheckDataStruct, CFCStruct } from \"../data/_config/shape\"\nimport HealthCheckUseCase from \"../data/healthChecks/HealthCheckLogic\"\nimport CFCUseCase from \"../data/CFC/CFCLogic\"\nimport arrayFillWith from \"../util/array/arrayFillWith\"\nimport { PageContainer } from \"../components/Layouts\"\nimport ExpandableNav from \"../components/ExpandableNav\"\nimport FileListing from \"../components/SessionFiles/FileListing\"\nimport useCurrentClient from \"../state/client/useCurrentClient\"\nimport {\n\tSelectedFiles,\n\tSingleDownloadProps,\n\tFileListingStruct,\n} from \"../components/SessionFiles/__config/shape\"\nimport {\n\tdiscoverTopics,\n\tstaticTitles,\n\tchangeLeversPath,\n} from \"../components/SessionFiles/__config/constants\"\nimport {\n\thealthCheckToData,\n\tcfcToData,\n} from \"../components/SessionFiles/__config/utilities\"\nimport CheckboxListItem from \"../components/SessionFiles/CheckboxListItem\"\nimport useStyles from \"../components/SessionFiles/__config/styles\"\nimport SectionTitle from \"../components/SectionTitle\"\nimport HealthCheckPDF, {\n\tHealthCheckQuestionSet,\n} from \"../components/PDF/HealthCheckPDF\"\nimport { questions } from \"../components/HealthCheck/_config/data\"\nimport ActionChecklistUseCase from \"../data/ActionChecklist/ChecklistLogic\"\nimport ActionNotesUseCase from \"../data/ActionChecklist/NotesLogic\"\nimport ActionChecklistPDF from \"../components/PDF/ActionChecklistPDF\"\nimport CashFlowCanvasPDF from \"../components/PDF/CashFlowCanvasPDF\"\nimport hasProperty from \"../util/object/hasProperty\"\nimport {\n\tcalcQuestionOne,\n\tcalcQuestionThree,\n\tcalcQuestionTwo,\n\tcanvasDisplayTitle,\n} from \"../components/CFC/__config/utilities\"\nimport SnackbarMsg, {\n\tSnackbarMsgData,\n} from \"../components/SnackbarMsg/SnackbarMsg\"\nimport ActionPriorityUseCase from \"../data/ActionChecklist/PriorityLogic\"\nimport { calculateInitial } from \"../components/Forms/CFC\"\n\nconst useSessionStyles = makeStyles((theme: Theme) =>\n\tcreateStyles({\n\t\tbackdrop: {\n\t\t\tzIndex: theme.zIndex.drawer + 1,\n\t\t\tcolor: \"#fff\",\n\t\t},\n\t})\n)\n\nconst SessionFiles = (): ReactElement => {\n\tconst classes = useSessionStyles()\n\tconst cls = useStyles()\n\tconst [selectedFiles, setSelectedFiles] = useState<SelectedFiles>({\n\t\tchangeLevers: false,\n\t\tactionChecklist: false,\n\t\thealthChecks: [],\n\t\tcfc: [],\n\t\tdiscoverTopics: arrayFillWith(discoverTopics.length, false),\n\t})\n\tconst [healthChecks, setHealthChecks] = useState<HealthCheckDataStruct[]>([])\n\tconst [cfc, setCfc] = useState<CFCStruct[]>([])\n\tconst [HCListing, setHCListing] = useState<FileListingStruct[]>([])\n\tconst [CFCListing, setCFCListing] = useState<FileListingStruct[]>([])\n\tconst assetBaseUrl = process.env.REACT_APP_ASSETS_URL || \"\"\n\n\tconst [fetching, setFetching] = useState(true)\n\tconst [exporting, setExporting] = useState(false)\n\tconst [currentClient, synced] = useCurrentClient()\n\n\tconst [snackbar, setSnackbar] = useState<SnackbarMsgData>({\n\t\topen: false,\n\t\tmsg: \"\",\n\t})\n\n\tfunction showSnackbar(\n\t\tmsg: SnackbarMsgData[\"msg\"],\n\t\tseverity: SnackbarMsgData[\"severity\"]\n\t): void {\n\t\tsetSnackbar({ ...snackbar, msg, severity, open: true })\n\t}\n\n\tfunction handleClose(event?: React.SyntheticEvent, reason?: string): void {\n\t\tif (reason === \"clickaway\") {\n\t\t\treturn\n\t\t}\n\n\t\tsetSnackbar({ ...snackbar, open: false })\n\t}\n\n\tconst fetchData = useCallback(async () => {\n\t\tif (currentClient?.id) {\n\t\t\tconst hcs = await HealthCheckUseCase.findByClient(currentClient.id)\n\t\t\tconst cfcs = await CFCUseCase.findByClient(currentClient.id)\n\n\t\t\tsetHealthChecks(hcs)\n\t\t\tsetCfc(cfcs)\n\n\t\t\tsetSelectedFiles((prev) => ({\n\t\t\t\t...prev,\n\t\t\t\thealthChecks: arrayFillWith(hcs.length, false),\n\t\t\t\tcfc: arrayFillWith(cfcs.length, false),\n\t\t\t}))\n\n\t\t\tsetHCListing(hcs.reduce(healthCheckToData(), []))\n\t\t\tsetCFCListing(cfcs.reduce(cfcToData(), []))\n\t\t}\n\t\tsetFetching(false)\n\t}, [\n\t\tcurrentClient,\n\t\tsetSelectedFiles,\n\t\tsetHealthChecks,\n\t\tsetCfc,\n\t\tsetFetching,\n\t\tsetHCListing,\n\t\tsetCFCListing,\n\t])\n\n\tuseEffect(() => {\n\t\tif (synced) {\n\t\t\tfetchData()\n\t\t}\n\t}, [fetchData, synced])\n\n\tconst changeSingleDownload = (id: SingleDownloadProps[\"id\"]) => (): void => {\n\t\tsetSelectedFiles((prev) => ({\n\t\t\t...prev,\n\t\t\t[id]: !prev[id],\n\t\t}))\n\t}\n\n\tconst getStaticPdf = (name: string, url: string) =>\n\t\t// IE does not support Fetch response.arrayBuffer().\n\t\t// Use Polyfill Fetch for PDF response buffer.\n\t\tfetchPolyfill(url, {\n\t\t\tmethod: \"GET\",\n\t\t})\n\t\t\t.then((response: any) => response.arrayBuffer()) // eslint-disable-line\n\t\t\t.then((buffer: any) => ({ fileName: name, buffer })) // eslint-disable-line\n\n\t// eslint-disable-next-line\n\tconst makeStaticPdf = async (name: string, path: string): Promise<any> => {\n\t\tconst file = encodeURI(`${assetBaseUrl}${path}`)\n\t\tconst pdf = await getStaticPdf(name, file)\n\t\treturn pdf\n\t}\n\n\tconst pdfMakeBlobPromise = (\n\t\tpdf: pdfMake.TCreatedPdf,\n\t\tfilename: string\n\t): Promise<{ blob: Blob; filename: string }> =>\n\t\tnew Promise((resolve) => {\n\t\t\tpdf.getBlob((b: Blob) => resolve({ blob: b, filename }))\n\t\t})\n\n\tconst generateZip = async (): Promise<void> => {\n\t\tif (currentClient?.id) {\n\t\t\tsetExporting(true)\n\t\t\tconst zip = new JSZip()\n\n\t\t\t// Change Levers document\n\t\t\tif (selectedFiles.changeLevers) {\n\t\t\t\tconst CHPDF = await makeStaticPdf(\"ChangeLevers.pdf\", changeLeversPath)\n\t\t\t\tzip.file(CHPDF.fileName, CHPDF.buffer)\n\t\t\t}\n\n\t\t\t// Action Checklist\n\t\t\tif (selectedFiles.actionChecklist) {\n\t\t\t\tconst checklists = await ActionChecklistUseCase.findByClient(\n\t\t\t\t\tcurrentClient.id\n\t\t\t\t)\n\t\t\t\tconst notes = await ActionNotesUseCase.findByClient(currentClient.id)\n\t\t\t\tconst pdfPriority = await ActionPriorityUseCase.findByClient(\n\t\t\t\t\tcurrentClient.id\n\t\t\t\t)\n\n\t\t\t\tconst ACPDF = await ActionChecklistPDF(\n\t\t\t\t\tcurrentClient?.name ?? \"Client\",\n\t\t\t\t\tchecklists,\n\t\t\t\t\tnotes,\n\t\t\t\t\tpdfPriority\n\t\t\t\t)\n\t\t\t\tconst blob = await pdfMakeBlobPromise(\n\t\t\t\t\tACPDF,\n\t\t\t\t\t\"ActionChecklistSummary.pdf\"\n\t\t\t\t)\n\t\t\t\tzip.file(blob.filename, blob.blob)\n\t\t\t}\n\n\t\t\t// Discover Topics\n\t\t\tconst DTPromises: any = selectedFiles.discoverTopics // eslint-disable-line\n\t\t\t\t.map((val, idx) => {\n\t\t\t\t\tif (val) {\n\t\t\t\t\t\treturn makeStaticPdf(\n\t\t\t\t\t\t\t`${discoverTopics[idx].name}.pdf`,\n\t\t\t\t\t\t\tdiscoverTopics[idx].path\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\treturn undefined\n\t\t\t\t})\n\t\t\t\t.filter((v) => typeof v !== \"undefined\")\n\n\t\t\t// Health Checks\n\t\t\tconst HCNames: string[] = []\n\t\t\tconst HCPromises = selectedFiles.healthChecks\n\t\t\t\t.map((val, idx) => {\n\t\t\t\t\tif (val) {\n\t\t\t\t\t\tconst data = healthChecks[idx]\n\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\tconst pdfData: HealthCheckQuestionSet = {}\n\t\t\t\t\t\t\tquestions.forEach((q, i) => {\n\t\t\t\t\t\t\t\tconst { question } = q\n\t\t\t\t\t\t\t\tconst answer = data?.answers[i] || \"positive\"\n\t\t\t\t\t\t\t\tconst text = q.options[answer]\n\t\t\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\t\t\tpdfData[i] = { question, answer, text }\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\t\tHCNames.push(\n\t\t\t\t\t\t\t\t`Completed Health Check ${format(\n\t\t\t\t\t\t\t\t\tdata.createdAt!, // eslint-disable-line\n\t\t\t\t\t\t\t\t\t\"dd/MM/yyyy\"\n\t\t\t\t\t\t\t\t)}.pdf`\n\t\t\t\t\t\t\t\t\t.replace(/ /g, \"-\")\n\t\t\t\t\t\t\t\t\t.replace(/\\//g, \"-\")\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\treturn HealthCheckPDF(currentClient?.name ?? \"Client\", pdfData)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn undefined\n\t\t\t\t})\n\t\t\t\t.filter((v) => typeof v !== \"undefined\")\n\n\t\t\t// CFC\n\t\t\tconst CFCNames: string[] = []\n\t\t\tconst CFCPromises = selectedFiles.cfc\n\t\t\t\t.map((val, idx) => {\n\t\t\t\t\tif (val) {\n\t\t\t\t\t\tconst data = cfc[idx]\n\t\t\t\t\t\tif (data) {\n\t\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\t\tCFCNames.push(\n\t\t\t\t\t\t\t\t`${canvasDisplayTitle(data)}.pdf`\n\t\t\t\t\t\t\t\t\t.replace(/ /g, \"-\")\n\t\t\t\t\t\t\t\t\t.replace(/\\//g, \"-\")\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t// build the question as we do not have the CFC provider\n\n\t\t\t\t\t\t\tconst calculated = calculateInitial(data)\n\t\t\t\t\t\t\tconst questionValues = {\n\t\t\t\t\t\t\t\tone: calcQuestionOne(calculated),\n\t\t\t\t\t\t\t\ttwo: calcQuestionTwo(\n\t\t\t\t\t\t\t\t\tcalculated,\n\t\t\t\t\t\t\t\t\tdata.paygWithholding,\n\t\t\t\t\t\t\t\t\tdata.superAmount,\n\t\t\t\t\t\t\t\t\tcalculated.incomeTaxPercentage\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tthree: calcQuestionThree(\n\t\t\t\t\t\t\t\t\tdata.openingBalance,\n\t\t\t\t\t\t\t\t\tcalculated,\n\t\t\t\t\t\t\t\t\tcalculated.incomeTaxPercentage\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\tfour: undefined,\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn CashFlowCanvasPDF(\n\t\t\t\t\t\t\t\tcurrentClient?.name ?? \"Client\",\n\t\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\t\tquestionValues\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn undefined\n\t\t\t\t})\n\t\t\t\t.filter((v) => typeof v !== \"undefined\")\n\n\t\t\tPromise.all([...HCPromises, ...CFCPromises])\n\t\t\t\t.then((res) => {\n\t\t\t\t\tconst names = [...HCNames, ...CFCNames]\n\n\t\t\t\t\tconst blobPromises = res\n\t\t\t\t\t\t.map((pdf, i) => {\n\t\t\t\t\t\t\tif (pdf) {\n\t\t\t\t\t\t\t\treturn pdfMakeBlobPromise(pdf, names[i])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn undefined\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.filter((v) => typeof v !== \"undefined\")\n\n\t\t\t\t\tPromise.all([...DTPromises, ...blobPromises])\n\t\t\t\t\t\t.then((res1) => {\n\t\t\t\t\t\t\tres1.forEach((doc) => {\n\t\t\t\t\t\t\t\tif (hasProperty(doc, \"fileName\")) {\n\t\t\t\t\t\t\t\t\tzip.file(doc.fileName, doc.buffer)\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tzip.file(doc.filename, doc.blob)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\tzip.generateAsync({ type: \"blob\" }).then((content) => {\n\t\t\t\t\t\t\t\t// see FileSaver.js\n\t\t\t\t\t\t\t\tsaveAs(content, `${currentClient.name.replace(/ /g, \"-\")}.zip`)\n\t\t\t\t\t\t\t\tsetExporting(false)\n\t\t\t\t\t\t\t\tshowSnackbar(\n\t\t\t\t\t\t\t\t\t\"The PDFs has been successfully exported\",\n\t\t\t\t\t\t\t\t\t\"success\"\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\t\tsetExporting(false)\n\t\t\t\t\t\t\tshowSnackbar(\"Something went wrong, please try again\", \"error\")\n\t\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\tsetExporting(false)\n\t\t\t\t\tshowSnackbar(\"Something went wrong, please try again\", \"error\")\n\t\t\t\t})\n\t\t}\n\t}\n\n\tconst Nav = React.memo(() => (\n\t\t<ExpandableNav>\n\t\t\t<List component=\"nav\" disablePadding>\n\t\t\t\t<ListItem button onClick={generateZip}>\n\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t<GetAppIcon />\n\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t<ListItemText>Download selected files</ListItemText>\n\t\t\t\t</ListItem>\n\t\t\t</List>\n\t\t</ExpandableNav>\n\t))\n\n\tconst SingleDownloads = ({\n\t\ttitle,\n\t\tid,\n\t}: SingleDownloadProps): ReactElement => (\n\t\t<ExpandableNav title={title}>\n\t\t\t<List component=\"nav\" disablePadding>\n\t\t\t\t<CheckboxListItem\n\t\t\t\t\tonClick={changeSingleDownload(id)}\n\t\t\t\t\tchecked={selectedFiles[id]}\n\t\t\t\t\tlabel={staticTitles[id]}\n\t\t\t\t/>\n\t\t\t</List>\n\t\t</ExpandableNav>\n\t)\n\n\treturn (\n\t\t<>\n\t\t\t<PageContainer>\n\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t<Grid item xs={12} md={9}>\n\t\t\t\t\t\t<Box className=\"content-area\">\n\t\t\t\t\t\t\t<SectionTitle component=\"h1\">Downloads</SectionTitle>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\tAll the activities you completed in your session are saved here.\n\t\t\t\t\t\t\t\tDownload and save the files to share and review.\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\tSelect the items you want to save and download them from the\n\t\t\t\t\t\t\t\tcontrol panel.\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Box className={cls.dropdownWrapper}>\n\t\t\t\t\t\t\t<SingleDownloads title=\"Change Levers\" id=\"changeLevers\" />\n\t\t\t\t\t\t\t<SingleDownloads title=\"Action Checklist\" id=\"actionChecklist\" />\n\t\t\t\t\t\t\t<FileListing\n\t\t\t\t\t\t\t\ttitle=\"Discover Topics\"\n\t\t\t\t\t\t\t\tstate={selectedFiles.discoverTopics}\n\t\t\t\t\t\t\t\tsetState={setSelectedFiles}\n\t\t\t\t\t\t\t\tdata={discoverTopics}\n\t\t\t\t\t\t\t\tid=\"discoverTopics\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<FileListing\n\t\t\t\t\t\t\t\ttitle=\"Health Check\"\n\t\t\t\t\t\t\t\tstate={selectedFiles.healthChecks}\n\t\t\t\t\t\t\t\tsetState={setSelectedFiles}\n\t\t\t\t\t\t\t\tdata={HCListing}\n\t\t\t\t\t\t\t\tid=\"healthChecks\"\n\t\t\t\t\t\t\t\tloading={fetching}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<FileListing\n\t\t\t\t\t\t\t\ttitle=\"Cash Flow Canvas\"\n\t\t\t\t\t\t\t\tstate={selectedFiles.cfc}\n\t\t\t\t\t\t\t\tsetState={setSelectedFiles}\n\t\t\t\t\t\t\t\tdata={CFCListing}\n\t\t\t\t\t\t\t\tid=\"cfc\"\n\t\t\t\t\t\t\t\tloading={fetching}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={3}>\n\t\t\t\t\t\t<Nav />\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</PageContainer>\n\t\t\t<Backdrop className={classes.backdrop} open={exporting}>\n\t\t\t\t<CircularProgress color=\"inherit\" />\n\t\t\t</Backdrop>\n\t\t\t{/* eslint-disable-next-line react/jsx-props-no-spreading */}\n\t\t\t<SnackbarMsg {...snackbar} onClose={handleClose} />\n\t\t</>\n\t)\n}\n\nexport default SessionFiles\n","import { format } from \"date-fns\"\nimport { FileListingStruct } from \"./shape\"\nimport { HealthCheckDataStruct, CFCStruct } from \"../../../data/_config/shape\"\nimport { canvasDisplayTitle } from \"../../CFC/__config/utilities\"\n\nexport function healthCheckToData(): ReducerHOF<\n\tFileListingStruct[],\n\tHealthCheckDataStruct\n> {\n\treturn (acc, cur): FileListingStruct[] =>\n\t\tacc.concat({\n\t\t\tname: `Completed Health Check ${\n\t\t\t\tcur.createdAt && format(cur.createdAt, \"'-' dd/MM/yyyy hh:mm a\")\n\t\t\t}`,\n\t\t\tid: `${cur.id || -1}`,\n\t\t})\n}\n\nexport function cfcToData(): ReducerHOF<FileListingStruct[], CFCStruct> {\n\treturn (acc, cur): FileListingStruct[] =>\n\t\tacc.concat({\n\t\t\tname: canvasDisplayTitle(cur),\n\t\t\tid: `${cur.id || -1}`,\n\t\t})\n}\n","import React, { ReactElement } from \"react\"\nimport Alert, { AlertProps } from \"@material-ui/lab/Alert\"\nimport { Snackbar, IconButton } from \"@material-ui/core\"\nimport CloseIcon from \"@material-ui/icons/Close\"\n\n// #region Interface Definitions\n/**\n * Data required for the snackbar\n * use this interface when defining the state\n *\n * @export\n * @interface SnackbarMsgData\n */\nexport interface SnackbarMsgData {\n\topen: boolean\n\tmsg: string\n\tseverity?: AlertProps[\"severity\"]\n}\n\n/**\n * Props required to be passed to the component\n *\n * @export\n * @interface SnackbarMsgProps\n * @extends {SnackbarMsgData}\n */\nexport interface SnackbarMsgProps extends SnackbarMsgData {\n\tonClose: (\n\t\tevent: React.SyntheticEvent | React.MouseEvent,\n\t\treason?: string\n\t) => void\n}\n// #endregion\n\n/**\n * Snackbar abstraction component, use this for a consistent\n * way to show messages to the user\n *\n * The component who uses this component will need to handle the\n * state of this component and pass down the props.\n *\n * See the README\n *\n * @export\n * @param {SnackbarMsgProps} {\n * \topen,\n * \tmsg,\n * \tonClose,\n * \tseverity = \"info\",\n * }\n * @returns {ReactElement}\n */\nexport default function SnackbarMsg({\n\topen,\n\tmsg,\n\tonClose,\n\tseverity = \"info\",\n}: SnackbarMsgProps): ReactElement {\n\treturn (\n\t\t<Snackbar\n\t\t\topen={open}\n\t\t\tautoHideDuration={2000}\n\t\t\tanchorOrigin={{ vertical: \"top\", horizontal: \"center\" }}\n\t\t\tonClose={onClose}\n\t\t>\n\t\t\t<Alert\n\t\t\t\tseverity={severity}\n\t\t\t\tvariant=\"filled\"\n\t\t\t\taction={\n\t\t\t\t\t<IconButton size=\"small\" aria-label=\"close\" color=\"inherit\">\n\t\t\t\t\t\t<CloseIcon fontSize=\"small\" />\n\t\t\t\t\t</IconButton>\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{msg}\n\t\t\t</Alert>\n\t\t</Snackbar>\n\t)\n}\n","import React, { ReactElement, ReactNode } from \"react\"\nimport Loading from \"../Loading\"\n\n/**\n * Prop defintion for the `IfElseLoading` component\n *\n * @interface IfElseLoadingProps\n */\ninterface IfElseLoadingProps {\n\tchildren: ReactNode\n\tif: boolean\n}\n\n/**\n * A component to render either the default Loading component\n * or its children based on a conditional\n *\n * @export\n * @param {IfElseLoadingProps} {\n * \tchildren,\n * \tif: check,\n * }\n * @returns {ReactElement}\n */\nexport default function IfElseLoading({\n\tchildren,\n\tif: check,\n}: IfElseLoadingProps): ReactElement {\n\treturn !check ? <Loading /> : <>{children}</>\n}\n","import { BaseCFCStruct } from \"../../../data/_config/shape\"\nimport createCashFlowItem from \"../../../state/CFC/createCashFlow\"\n\nconst initialValues: BaseCFCStruct = {\n\tcanvasTitle: \"\",\n\tcanvasType: \"review\",\n\tcanvasTimeFrame: \"quarterly\",\n\tcanvasStartDate: new Date(),\n\tcanvasEndDate: new Date(),\n\topeningBalance: 0,\n\tpaygWithholding: 0,\n\tsuperAmount: 0,\n\tincomeTax: 25,\n\tcashToOwner: 0,\n\tstock: 0,\n\tcreditors: 0,\n\tdebtors: 0,\n\tassets: 0,\n\tloans: 0,\n\tcashInItems: [createCashFlowItem()],\n\tcashOutItems: [createCashFlowItem()],\n\tgstOnPurchases: undefined,\n\tgstOnSales: undefined,\n}\n\nexport default initialValues\n","import { BaseCFCStruct } from \"../../../data/_config/shape\"\nimport { CalculatedValues } from \"../../../state/CFC/useCalculated\"\nimport {\n\tcalcTotalNetAssets,\n\tcalcAvailableToSpend,\n\tcalcCashSurplus,\n\tcalcCashFlowGST,\n\tcalcClosingBalance,\n\tcalcIncomeTaxPer,\n} from \"../../../state/CFC/accumulators\"\nimport { isGSTValid } from \"../../../util/money/gst\"\n\n/**\n * Calculates the values for the dynamic values\n *\n * @param {BaseCFCStruct} values\n * @returns {CalculatedValues}\n */\nfunction calculateInitial(values: BaseCFCStruct): CalculatedValues {\n\treturn {\n\t\tgstOnSales: isGSTValid(values.gstOnSales)\n\t\t\t? values.gstOnSales! // eslint-disable-line\n\t\t\t: calcCashFlowGST(values.cashInItems),\n\t\tclosingBalance: calcClosingBalance(values),\n\t\tgstOnPurchases: isGSTValid(values.gstOnPurchases)\n\t\t\t? values.gstOnPurchases! // eslint-disable-line\n\t\t\t: calcCashFlowGST(values.cashOutItems),\n\t\ttotalNetAssets: calcTotalNetAssets(values),\n\t\tcashSurplus: calcCashSurplus(values),\n\t\tavailableToSpend: calcAvailableToSpend(values),\n\t\tincomeTaxPercentage: calcIncomeTaxPer(values),\n\t}\n}\n\nexport default calculateInitial\n","import { makeStyles } from \"@material-ui/core\"\n\n// Section title styles\nconst useSTStyles = makeStyles((theme) => ({\n\ttitle: {\n\t\tfontWeight: 500,\n\t\tmarginBottom: theme.spacing(2),\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tfontSize: theme.typography.h5.fontSize,\n\t\t},\n\t},\n}))\n\nexport default useSTStyles\n","import React, { ReactElement } from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport { SectionTitleProps } from \"./_config/shape\"\nimport useSTStyles from \"./_config/styles\"\n\n/**\n * Abstraction for the Typography for a consistent heading for sections\n *\n * @param {SectionTitleProps} props Mimics the props for `<Typography>`\n * @returns ReactElement\n */\nconst SectionTitle = ({\n\tchildren,\n\tclassName,\n\t// eslint-disable-next-line\n\t...props\n}: SectionTitleProps): ReactElement => {\n\tconst styles = useSTStyles()\n\treturn (\n\t\t<Typography\n\t\t\tvariant=\"h4\"\n\t\t\tcolor=\"textPrimary\"\n\t\t\tclassName={`${styles.title} ${className}`}\n\t\t\t// eslint-disable-next-line react/jsx-props-no-spreading\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</Typography>\n\t)\n}\n\nexport default SectionTitle\n","/**\n * Add Padding\n *\n * add white space around some content\n */\n\nimport { format } from \"date-fns\"\n\nexport const addPadding = (\n\tcontent: any, // eslint-disable-line\n\tmargin = 10\n) => ({\n\tmargin,\n\tcolumns: [content],\n})\n\n/**\n * Page and margin defaults\n */\n\nexport const pageDefaultSettings = () => ({\n\t// watermark: {\n\t// \ttext: \"draft\",\n\t// \tcolor: \"blue\",\n\t// \topacity: 0.3,\n\t// \tbold: true,\n\t// \titalics: false,\n\t// },\n\n\tpageSize: \"A4\",\n\tpageMargins: [0, 0, 0, 25],\n\tfooter: {\n\t\tcolumns: [\n\t\t\t{\n\t\t\t\ttext: `Created on the ${format(new Date(), \"do 'of' MMMM yyyy\")}`,\n\t\t\t\talignment: \"center\",\n\t\t\t\tfontSize: 12,\n\t\t\t\tcolor: \"#333\",\n\t\t\t},\n\t\t],\n\t},\n})\n\n/**\n * Frame Content\n *\n * Put content in a table with a border\n */\n\nexport const frameContent = (\n\tinner: any, // eslint-disable-line\n\tstyle: string[] = []\n) => ({\n\ttable: {\n\t\twidths: [\"*\"], // to make it full length\n\t\tbody: [[inner]],\n\t},\n\tstyle,\n})\n\n/**\n * Table with Text in it for top of page\n * Requires a pageHeader style\n */\n\nexport const pageHeading = (text: string) => {\n\tconst content = frameContent(addPadding(text), [\"pageHeader\"])\n\n\treturn {\n\t\t...content,\n\t\tlayout: \"noBorders\",\n\t}\n}\n\n/**\n * Add 20 points of padding on a full page\n */\n\n// eslint-disable-next-line\nexport const pagePadding = (content: any) => addPadding(content, 20)\n\n/**\n * Basic table of key .... value\n */\n\nexport const basicTable = (\n\titems: any, // eslint-disable-line\n\tstyle: string[] = []\n) => ({\n\ttable: {\n\t\twidths: [\"70%\", \"*\"],\n\t\tbody: items,\n\t},\n\tstyle,\n\tlayout: \"noBorders\",\n})\n","/**\n * Creates and fills an array with some data\n *\n * @export\n * @template T\n * @param {number} len\n * @param {T} fill\n * @returns {T[]}\n */\nexport default function arrayFillWith<T>(len: number, fill: T): T[] {\n\treturn new Array(len).fill(fill)\n}\n","import ILogicLayer from \"../_config/logicLayer\"\nimport HealthCheckDB from \"./HealthCheckDatabase\"\nimport {\n\tHealthCheckDataStruct,\n\tBaseHealthCheckStruct,\n\tHealthCheckId,\n\tClientId,\n} from \"../_config/shape\"\n\n/**\n * Logic implementation for the Health check database\n *\n * @class HealthCheckLogic\n * @extends {ILogicLayer<HealthCheckDataStruct, BaseHealthCheckStruct>}\n */\nclass HealthCheckLogic extends ILogicLayer<\n\tHealthCheckDataStruct,\n\tBaseHealthCheckStruct\n> {\n\t/**\n\t * Creates an instance of HealthCheckLogic.\n\t *\n\t * @memberof HealthCheckLogic\n\t */\n\tconstructor() {\n\t\tsuper(HealthCheckDB, HealthCheckDB.healthChecks)\n\t}\n\n\t/**\n\t * Finds a health check by the id and clientId\n\t *\n\t * @param {HealthCheckId} id\n\t * @param {ClientId} clientId\n\t * @returns {Promise<HealthCheckDataStruct>}\n\t * @memberof HealthCheckLogic\n\t */\n\tpublic findByClientId(\n\t\tid: HealthCheckId,\n\t\tclientId: ClientId\n\t): Promise<HealthCheckDataStruct | undefined> {\n\t\treturn this.database.transaction(\"r\", this.table.name, () =>\n\t\t\tthis.table.where({ id, clientId }).first()\n\t\t)\n\t}\n\n\t/**\n\t * Finds all the health checks for a given client\n\t *\n\t * @param {ClientId} clientId\n\t * @returns {Promise<HealthCheckDataStruct[]>}\n\t * @memberof HealthCheckLogic\n\t */\n\tpublic findClientHealthChecks(\n\t\tclientId: ClientId\n\t): Promise<HealthCheckDataStruct[]> {\n\t\treturn this.database.transaction(\"r\", this.table.name, () =>\n\t\t\tthis.table.where(\"clientId\").equals(clientId).toArray()\n\t\t)\n\t}\n}\n\n// Creates a instance of the logic class and exports the instance\nconst HealthCheckUseCase = new HealthCheckLogic()\n\nexport default HealthCheckUseCase\n","import { v4 as uuidv4 } from \"uuid\"\nimport { CashFlow } from \"../../data/_config/shape\"\n\nexport default function createCashFlowItem(\n\tdescription = \"\",\n\tamount = 0,\n\tgstApplicable = true\n): CashFlow {\n\treturn {\n\t\tid: uuidv4(),\n\t\tdescription,\n\t\tamount,\n\t\tgstApplicable,\n\t}\n}\n","import pdfMake from \"pdfmake/build/pdfmake\"\nimport pdfFonts from \"pdfmake/build/vfs_fonts\"\nimport { green } from \"@material-ui/core/colors\"\nimport { format } from \"date-fns\"\nimport {\n\tframeContent,\n\tbasicTable,\n\tpageDefaultSettings,\n\tpageHeading,\n\tpagePadding,\n} from \"./PDFLib\"\nimport { BaseCFCStruct, CashFlow } from \"../../data/_config/shape\"\nimport {\n\tcalcCashFlowTotal,\n\tcalcTotalCashOut,\n\tcalcIncomeTaxPer,\n} from \"../../state/CFC/accumulators\"\nimport { calculateInitial } from \"../Forms/CFC\"\nimport { canvasDisplayTitle } from \"../CFC/__config/utilities\"\nimport upperFirst from \"../../util/strings/upperCaseFirst\"\nimport { addDollarSign, formatNumber } from \"../../util/money/formatting\"\n\npdfMake.vfs = pdfFonts.pdfMake.vfs // eslint-disable-line\n\nconst formatDollars = (value: number) => addDollarSign(formatNumber(`${value}`))\n\nconst openingBalanceSection = (\n\topeningBalance: number\n): any => // eslint-disable-line\n\tframeContent(\n\t\tbasicTable([\n\t\t\t[\n\t\t\t\t\"Opening Balance\",\n\t\t\t\t{ text: formatDollars(openingBalance), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t])\n\t)\n\nconst cashInSection = (\n\tcashInItems: CashFlow[],\n\tcashInTotal: number\n): any => // eslint-disable-line\n\tframeContent([\n\t\t{\n\t\t\ttext: \"Cash IN\",\n\t\t\tbold: true,\n\t\t},\n\t\tbasicTable([\n\t\t\t...cashInItems.map((line) => [\n\t\t\t\tline.description,\n\t\t\t\t{ text: formatDollars(line.amount), style: [\"rightAlign\"] },\n\t\t\t]),\n\t\t\t[\n\t\t\t\t\"Total (Exc GST)\",\n\t\t\t\t{\n\t\t\t\t\ttext: formatDollars(cashInTotal),\n\t\t\t\t\tstyle: [\"rightAlign\"],\n\t\t\t\t},\n\t\t\t],\n\t\t]),\n\t])\n\nconst gstOnSalesSection = (\n\tgstOnSales: number\n): any => // eslint-disable-line\n\tframeContent(\n\t\tbasicTable(\n\t\t\t[\n\t\t\t\t[\n\t\t\t\t\t\"GST on Sales\",\n\t\t\t\t\t{ text: formatDollars(gstOnSales), style: [\"rightAlign\"] },\n\t\t\t\t],\n\t\t\t],\n\t\t\t[\"yellowBlock\"]\n\t\t)\n\t)\n\nconst cashOutSection = (\n\tcashOutItems: CashFlow[],\n\tcashOutTotal: number\n): any => // eslint-disable-line\n\tframeContent([\n\t\t{ text: \"Cash OUT\", bold: true },\n\t\tbasicTable([\n\t\t\t...cashOutItems.map((line) => [\n\t\t\t\tline.description,\n\t\t\t\t{ text: formatDollars(line.amount), style: [\"rightAlign\"] },\n\t\t\t]),\n\t\t\t[\n\t\t\t\t\"Total (Exc GST)\",\n\t\t\t\t{\n\t\t\t\t\ttext: formatDollars(cashOutTotal),\n\t\t\t\t\tstyle: [\"rightAlign\"],\n\t\t\t\t},\n\t\t\t],\n\t\t]),\n\t])\n\nconst gstOnPurchasesSection = (\n\tgstOnPurchases: number,\n\tpaygWithholding: number,\n\tsuperAmount: number\n): any => // eslint-disable-line\n\tframeContent(\n\t\tbasicTable(\n\t\t\t[\n\t\t\t\t[\n\t\t\t\t\t\"GST on Purchases\",\n\t\t\t\t\t{ text: formatDollars(gstOnPurchases), style: [\"rightAlign\"] },\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t\"PAYG Withholding\",\n\t\t\t\t\t{ text: formatDollars(paygWithholding), style: [\"rightAlign\"] },\n\t\t\t\t],\n\t\t\t\t[\"Super\", { text: formatDollars(superAmount), style: [\"rightAlign\"] }],\n\t\t\t],\n\t\t\t[\"yellowBlock\"]\n\t\t)\n\t)\n\nconst cashSurplusSection = (\n\tcashSurplus: number\n): any => // eslint-disable-line\n\tframeContent(\n\t\tbasicTable([\n\t\t\t[\n\t\t\t\t\"Cash Surplus\",\n\t\t\t\t{ text: formatDollars(cashSurplus), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t])\n\t)\n\nconst incomeSection = (\n\tvalues: BaseCFCStruct\n): any => // eslint-disable-line\n\tframeContent(\n\t\tbasicTable(\n\t\t\t[\n\t\t\t\t[\n\t\t\t\t\t\"Income/Company Tax\",\n\t\t\t\t\t// TODO: Needs to use the new calculations in feature/122 branch\n\t\t\t\t\t{\n\t\t\t\t\t\ttext: formatDollars(calcIncomeTaxPer(values)),\n\t\t\t\t\t\tstyle: [\"rightAlign\"],\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t],\n\t\t\t[\"yellowBlock\"]\n\t\t)\n\t)\n\nconst availableToSpendSection = (\n\tavailableToSpend: number\n): any => // eslint-disable-line\n\tframeContent(\n\t\tbasicTable([\n\t\t\t[\n\t\t\t\t\"Available to spend\",\n\t\t\t\t{ text: formatDollars(availableToSpend), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t])\n\t)\n\nconst closingCashBalanceSection = (\n\tcashToOwner: number,\n\tclosingBalance: number\n): any => // eslint-disable-line\n\tframeContent([\n\t\t{ text: \"Your Closing Cash Balance\", bold: true },\n\t\tbasicTable([\n\t\t\t[\n\t\t\t\t\"Cash to owner\",\n\t\t\t\t{ text: formatDollars(cashToOwner), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t\t[\n\t\t\t\t\"Closing balance\",\n\t\t\t\t{ text: formatDollars(closingBalance), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t]),\n\t])\n\nconst question2Section = (value: number) =>\n\tframeContent(\n\t\tbasicTable(\n\t\t\t[\n\t\t\t\t[\n\t\t\t\t\t\"Have you put enough money aside to meet your regular financial commitments?\",\n\t\t\t\t\t{ text: formatDollars(value), style: [\"rightAlign\"] },\n\t\t\t\t],\n\t\t\t],\n\t\t\t[\"yellowBlock\"]\n\t\t)\n\t)\n\nconst yourNetAssetPositionSection = (\n\tstock: number,\n\tcreditors: number,\n\tdebtors: number,\n\tassets: number,\n\tloans: number,\n\ttotalNetAssets: number\n): any => // eslint-disable-line\n\tframeContent([\n\t\t{ text: \"Your net asset position\", bold: true },\n\t\tbasicTable([\n\t\t\t[\"Stocks\", { text: formatDollars(stock), style: [\"rightAlign\"] }],\n\t\t\t[\"Creditors\", { text: formatDollars(creditors), style: [\"rightAlign\"] }],\n\t\t\t[\"Debtors\", { text: formatDollars(debtors), style: [\"rightAlign\"] }],\n\t\t\t[\"Assets\", { text: formatDollars(assets), style: [\"rightAlign\"] }],\n\t\t\t[\"Loans\", { text: formatDollars(loans), style: [\"rightAlign\"] }],\n\t\t\t[\n\t\t\t\t{ text: \"Total net assets\", bold: true },\n\t\t\t\t{ text: formatDollars(totalNetAssets), style: [\"rightAlign\"] },\n\t\t\t],\n\t\t]),\n\t])\n\nexport default async (\n\ttitle: string,\n\tvalues: BaseCFCStruct,\n\tquestionValues: any // eslint-disable-line\n) => {\n\tconst {\n\t\topeningBalance,\n\t\tcashInItems,\n\t\tcashOutItems,\n\t\tpaygWithholding,\n\t\tsuperAmount,\n\t\tcashToOwner,\n\t\tstock,\n\t\tcreditors,\n\t\tdebtors,\n\t\tassets,\n\t\tloans,\n\t\tgstOnPurchases: dbGSTOnPurchase,\n\t\tgstOnSales: dbGSTOnSales,\n\t} = values\n\n\tconst cashInTotal = calcCashFlowTotal(cashInItems, dbGSTOnSales)\n\tconst cashOutTotal = calcTotalCashOut(values, dbGSTOnPurchase)\n\n\tconst calculated = calculateInitial(values)\n\tconst {\n\t\tcashSurplus,\n\t\tavailableToSpend,\n\t\tclosingBalance,\n\t\ttotalNetAssets,\n\t\tgstOnSales,\n\t\tgstOnPurchases,\n\t} = calculated\n\n\t// eslint-disable-next-line\n\tconst docDefinition: any = {\n\t\t...pageDefaultSettings(),\n\n\t\tcontent: [\n\t\t\tpageHeading(`${title} - CANVAS - ${canvasDisplayTitle(values)}`),\n\t\t\tpagePadding([\n\t\t\t\tframeContent({\n\t\t\t\t\ttable: {\n\t\t\t\t\t\twidths: [\"25%\", \"25%\", \"25%\", \"25%\"],\n\t\t\t\t\t\tbody: [\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t{ text: \"Canvas Type\", bold: true },\n\t\t\t\t\t\t\t\t\tupperFirst(values.canvasType),\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t{ text: \"Time-frame\", bold: true },\n\t\t\t\t\t\t\t\t\tupperFirst(values.canvasTimeFrame),\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t{ text: \"Start date\", bold: true },\n\t\t\t\t\t\t\t\t\t`${format(values.canvasStartDate, \"dd/MM/yyyy\")}`,\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\t{ text: \"End date\", bold: true },\n\t\t\t\t\t\t\t\t\t`${format(values.canvasEndDate, \"dd/MM/yyyy\")}`,\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\tlayout: \"noBorders\",\n\t\t\t\t}),\n\t\t\t\t\" \",\n\t\t\t\topeningBalanceSection(openingBalance),\n\n\t\t\t\t{\n\t\t\t\t\ttable: {\n\t\t\t\t\t\twidths: [\"55%\", \"*\"],\n\t\t\t\t\t\tbody: [\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\tcashInSection(cashInItems, cashInTotal),\n\t\t\t\t\t\t\t\tgstOnSalesSection(gstOnSales),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\tcashOutSection(cashOutItems, cashOutTotal),\n\t\t\t\t\t\t\t\tgstOnPurchasesSection(\n\t\t\t\t\t\t\t\t\tgstOnPurchases,\n\t\t\t\t\t\t\t\t\tpaygWithholding,\n\t\t\t\t\t\t\t\t\tsuperAmount\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[cashSurplusSection(cashSurplus), incomeSection(values)],\n\t\t\t\t\t\t\t[availableToSpendSection(availableToSpend), {}],\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t\tclosingCashBalanceSection(cashToOwner, closingBalance),\n\t\t\t\t\t\t\t\t\t{ text: \" \", style: [\"spacer\"] },\n\t\t\t\t\t\t\t\t\tyourNetAssetPositionSection(\n\t\t\t\t\t\t\t\t\t\tstock,\n\t\t\t\t\t\t\t\t\t\tcreditors,\n\t\t\t\t\t\t\t\t\t\tdebtors,\n\t\t\t\t\t\t\t\t\t\tassets,\n\t\t\t\t\t\t\t\t\t\tloans,\n\t\t\t\t\t\t\t\t\t\ttotalNetAssets\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tquestion2Section(questionValues.two),\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\tlayout: \"noBorders\",\n\t\t\t\t},\n\t\t\t]),\n\t\t],\n\n\t\tstyles: {\n\t\t\tpageHeader: {\n\t\t\t\tfontSize: 20,\n\t\t\t\tbold: true,\n\t\t\t\tfillColor: green[\"800\"],\n\t\t\t\tcolor: \"white\",\n\t\t\t\talignment: \"center\",\n\t\t\t},\n\t\t\trightAlign: {\n\t\t\t\t// fillColor: \"#CCCCCC\",\n\t\t\t\talignment: \"right\",\n\t\t\t},\n\t\t\tyellowBlock: {\n\t\t\t\tfillColor: \"yellow\",\n\t\t\t},\n\t\t\tspacer: {\n\t\t\t\tfontSize: 4, // cheat for a spacer between blocks\n\t\t\t},\n\t\t},\n\n\t\tdefaultStyle: {\n\t\t\tfontSize: 13,\n\t\t\tbold: false,\n\t\t},\n\t}\n\treturn pdfMake.createPdf(docDefinition)\n}\n","/* eslint-disable import/prefer-default-export */\nimport { PossibleActionItems } from \"../../../../state/action-checklist/shape\"\n\n// Action title mapping object\nexport const actionTitleMapping: Record<PossibleActionItems, string> = {\n\tcashInActions: \"Cash IN actions\",\n\tcashOutActions: \"Cash OUT actions\",\n\tplanningBusiness: \"Planning your business actions\",\n\trecordKeeping: \"Record keeping actions\",\n\tfunding: \"Funding your business actions\",\n\tmanaging: \"Managing your cash flow actions\",\n\tplanningCommitments: \"Planning your regular financial commitments actions\",\n\ttracking: \"Tracking your performance actions\",\n\ttransition: \"Selling, closing and succession planning\",\n}\n","import pdfMake from \"pdfmake/build/pdfmake\"\nimport pdfFonts from \"pdfmake/build/vfs_fonts\"\nimport { purple, grey } from \"@material-ui/core/colors\"\nimport {\n\tpageDefaultSettings,\n\tpageHeading,\n\tpagePadding,\n\taddPadding,\n} from \"./PDFLib\"\nimport { answerTheming } from \"../HealthCheck/_config/data\"\n\npdfMake.vfs = pdfFonts.pdfMake.vfs // eslint-disable-line fp/no-mutation\n\nexport interface HealthCheckQuestion {\n\tquestion: string\n\tanswer: string\n\ttext: string\n}\n\nexport interface HealthCheckQuestionSet {\n\t[key: number]: HealthCheckQuestion // 0..9\n}\n\nconst questionElementTop = ({ question, answer, text }: HealthCheckQuestion) =>\n\taddPadding([\n\t\t{ text: question, style: \"question\" },\n\t\t\" \",\n\t\t{ text, style: answer },\n\t])\n\nexport interface HealthCheckParams {\n\ttitle: string\n\tanswers: {\n\t\t[idx: string]: string\n\t}\n}\n\nexport default async (title: string, answers: HealthCheckQuestionSet) => {\n\t// eslint-disable-next-line\n\tconst docDefinition: any = {\n\t\t...pageDefaultSettings(),\n\n\t\tcontent: [\n\t\t\tpageHeading(`${title} - Health Check`),\n\t\t\tpagePadding([\n\t\t\t\t{\n\t\t\t\t\tstyle: \"tableCell\",\n\t\t\t\t\ttable: {\n\t\t\t\t\t\twidths: [\"*\", \"*\"],\n\t\t\t\t\t\tbody: [\n\t\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttext: \"Four Key Questions\",\n\t\t\t\t\t\t\t\t\tstyle: \"tableHeading\",\n\t\t\t\t\t\t\t\t\tcolSpan: 2,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t[questionElementTop(answers[0]), questionElementTop(answers[1])],\n\t\t\t\t\t\t\t[questionElementTop(answers[2]), questionElementTop(answers[3])],\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t},\n\n\t\t\t\t\" \",\n\n\t\t\t\t{\n\t\t\t\t\tstyle: \"tableCell\",\n\t\t\t\t\ttable: {\n\t\t\t\t\t\twidths: [\"*\", \"*\"],\n\t\t\t\t\t\tbody: [\n\t\t\t\t\t\t\t[questionElementTop(answers[4]), questionElementTop(answers[5])],\n\n\t\t\t\t\t\t\t[questionElementTop(answers[6]), questionElementTop(answers[7])],\n\n\t\t\t\t\t\t\t[questionElementTop(answers[8]), questionElementTop(answers[9])],\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t]),\n\t\t],\n\n\t\tstyles: {\n\t\t\tpageHeader: {\n\t\t\t\tfontSize: 20,\n\t\t\t\tbold: true,\n\t\t\t\tfillColor: purple[\"500\"],\n\t\t\t\tcolor: \"white\",\n\t\t\t\talignment: \"center\",\n\t\t\t},\n\t\t\ttableHeading: {\n\t\t\t\tfillColor: grey[\"200\"],\n\t\t\t\talignment: \"center\",\n\t\t\t},\n\t\t\tquestion: {},\n\t\t\tpositive: {\n\t\t\t\tfontSize: 16,\n\t\t\t\tcolor: answerTheming[0].color,\n\t\t\t\tbold: true,\n\t\t\t},\n\t\t\tnegative: {\n\t\t\t\tfontSize: 16,\n\t\t\t\tcolor: answerTheming[1].color,\n\t\t\t\tbold: true,\n\t\t\t},\n\t\t\tneutral: {\n\t\t\t\tfontSize: 16,\n\t\t\t\tcolor: answerTheming[2].color,\n\t\t\t\tbold: true,\n\t\t\t},\n\t\t},\n\n\t\tdefaultStyle: {\n\t\t\tfontSize: 15,\n\t\t\tbold: false,\n\t\t\tcolor: \"#000\",\n\t\t},\n\t}\n\treturn pdfMake.createPdf(docDefinition)\n}\n","/* eslint-disable */\nimport pdfMake, { TCreatedPdf } from \"pdfmake/build/pdfmake\"\nimport pdfFonts from \"pdfmake/build/vfs_fonts\"\nimport { format } from \"date-fns\"\nimport { lightBlue } from \"@material-ui/core/colors\"\nimport {\n\tpageHeading,\n\tpagePadding,\n\tpageDefaultSettings,\n\tbasicTable,\n} from \"./PDFLib\"\nimport {\n\tActionChecklistStruct,\n\tActionChecklistNotesStruct,\n\tClientId,\n\tActionChecklistPriorityStruct,\n} from \"../../data/_config/shape\"\nimport { actionTitleMapping } from \"../ActionChecklist/ActionContainer/_config/data\"\nimport { PossibleActionItems } from \"../../state/action-checklist/shape\"\nimport ActionChecklistUseCase from \"../../data/ActionChecklist/ChecklistLogic\"\nimport ActionNotesUseCase from \"../../data/ActionChecklist/NotesLogic\"\nimport ActionPriorityUseCase from \"../../data/ActionChecklist/PriorityLogic\"\n\npdfMake.vfs = pdfFonts.pdfMake.vfs\n\nconst itemsSection = (items: ActionChecklistStruct[]) => {\n\tif (items.length === 0) {\n\t\treturn {\n\t\t\ttext: \"No action items\",\n\t\t\tstyle: \"noResult\",\n\t\t}\n\t}\n\n\treturn basicTable(\n\t\titems.map(({ description, reviewBy, completed }) => [\n\t\t\t{\n\t\t\t\ttext: description || \"No description provided\",\n\t\t\t\tstyle: [\n\t\t\t\t\tdescription === \"\" ? \"noResult\" : \"\",\n\t\t\t\t\tcompleted ? \"completed\" : \"\",\n\t\t\t\t],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttext: format(reviewBy, \"dd/MM/yyyy\"),\n\t\t\t\tstyle: [completed ? \"completed\" : \"\"],\n\t\t\t},\n\t\t])\n\t)\n}\n\nexport default async (\n\ttitle: string,\n\tchecklistCollection: ActionChecklistStruct[],\n\tnotes: ActionChecklistNotesStruct[],\n\tpriority: ActionChecklistPriorityStruct[]\n): Promise<TCreatedPdf> => {\n\tconst docDefinition: any = {\n\t\t...pageDefaultSettings(),\n\n\t\tcontent: [\n\t\t\tpageHeading(`${title} - Action Checklist`),\n\t\t\tpagePadding([\n\t\t\t\t...(Object.keys(actionTitleMapping) as PossibleActionItems[]).map(\n\t\t\t\t\t(value, idx) => {\n\t\t\t\t\t\tconst arr = []\n\t\t\t\t\t\tconst items = checklistCollection.filter(\n\t\t\t\t\t\t\t(i) => i.actionContainer === value\n\t\t\t\t\t\t)\n\n\t\t\t\t\t\tconst note = notes.filter((i) => i.actionContainer === value)\n\t\t\t\t\t\tconst prior = priority.filter((i) => i.actionContainer === value)\n\n\t\t\t\t\t\tif (items.length === 0 || prior.length < 1) return \"\"\n\n\t\t\t\t\t\tconst sortedItems = prior[0].order\n\t\t\t\t\t\t\t.map((p) => {\n\t\t\t\t\t\t\t\tconst idx = items.findIndex((x) => x?.id === p)\n\t\t\t\t\t\t\t\treturn items[idx]\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.filter((v) => typeof v !== \"undefined\")\n\n\t\t\t\t\t\tif (idx !== 0) arr.push(\" \")\n\t\t\t\t\t\tarr.push({ text: actionTitleMapping[value], style: \"heading\" })\n\t\t\t\t\t\tarr.push(itemsSection(sortedItems))\n\t\t\t\t\t\tif (note.length > 0 && note[0].notes !== \"\") {\n\t\t\t\t\t\t\tarr.push(\" \")\n\t\t\t\t\t\t\tarr.push({ text: \"Notes\", style: \"subHeading\" })\n\t\t\t\t\t\t\tarr.push(note[0].notes)\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn arr\n\t\t\t\t\t}\n\t\t\t\t),\n\t\t\t]),\n\t\t],\n\n\t\tstyles: {\n\t\t\tpageHeader: {\n\t\t\t\tfontSize: 20,\n\t\t\t\tbold: true,\n\t\t\t\tfillColor: lightBlue[\"800\"],\n\t\t\t\tcolor: \"white\",\n\t\t\t\talignment: \"center\",\n\t\t\t},\n\t\t\theading: {\n\t\t\t\tfontSize: 16,\n\t\t\t\tbold: true,\n\t\t\t},\n\t\t\tsubHeading: {\n\t\t\t\tfontSize: 14,\n\t\t\t\tbold: true,\n\t\t\t},\n\t\t\trightAlign: {\n\t\t\t\talignment: \"right\",\n\t\t\t},\n\t\t\tnoResult: {\n\t\t\t\titalics: true,\n\t\t\t\tcolor: \"#333\",\n\t\t\t},\n\t\t\tcompleted: {\n\t\t\t\tdecoration: \"lineThrough\",\n\t\t\t},\n\t\t},\n\n\t\tdefaultStyle: {\n\t\t\tfontSize: 15,\n\t\t\tbold: false,\n\t\t},\n\t}\n\treturn pdfMake.createPdf(docDefinition)\n}\n"],"sourceRoot":""}