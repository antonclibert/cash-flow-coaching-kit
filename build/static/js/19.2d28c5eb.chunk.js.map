{"version":3,"sources":["components/ActionChecklist/ActionHeader/_config/style.ts","components/ActionChecklist/ActionHeader/ActionHeader.tsx","components/ActionChecklist/ActionContainer/_config/styles.ts","components/ActionChecklist/ActionContainer/_partials/Actions.tsx","components/ActionChecklist/ActionContainer/_partials/ActionItem.tsx","components/ActionChecklist/ActionContainer/_partials/ActionNotes.tsx","components/ActionChecklist/ActionContainer/_config/utilities.ts","util/array/lastInArray.ts","util/array/arraySwap.ts","components/ActionChecklist/ActionContainer/ActionContainer.tsx","components/ActionChecklist/_config/data.ts","data/ActionChecklist/_config/machine.ts","content/tips/ActionChecklistTips.tsx","pages/action-items.tsx","content/tips/style.ts","components/PageTip/_config/style.ts","components/PageTip/PageTip.tsx","components/SectionTitle/_config/styles.ts","components/SectionTitle/SectionTitle.tsx","components/PDF/PDFLib.ts","components/PDF/servePDF.ts","components/HealthCheck/FourQuestions/_config/utilities.tsx","components/HealthCheck/FourQuestions/FourQuestions.tsx","components/ActionChecklist/ActionContainer/_config/data.ts","components/PDF/ActionChecklistPDF.ts"],"names":["useActionHeaderStyles","makeStyles","theme","root","marginBottom","spacing","box","flexGrow","display","justifyContent","ActionHeader","styles","useContext","ActionChecklistContext","hideCompleted","dispatch","Box","className","FormControlLabel","control","Checkbox","checked","onChange","event","type","ActionChecklistActionTypes","ChangeHideCompleted","payload","target","name","label","useActionContainerStyles","dropdownBody","paddingRight","paddingLeft","useActionsStyles","actionsWrapper","marginTop","alignItems","breakpoints","down","flexDirection","saveIndicator","userSelect","up","marginLeft","useActionItemStyles","gridRoot","margin","width","background","paddingTop","paddingBottom","hide","height","palette","grey","textfield","actions","dragIcon","cursor","completedText","padding","lineHeight","textDecoration","datepicker","useActionNotesStyles","gridActions","Actions","addNewAction","disabled","saving","lastSaved","Button","variant","color","startIcon","onClick","Typography","format","ActionItem","index","draggableId","data","deleteAction","lastItemInList","globalHide","useState","description","cacheDescription","setCacheDescription","dialogueOpen","setDialogueOpen","datepickerOpen","setDatepickerOpen","triggerDispatch","newData","id","UpdateActionItem","onDialogueClose","onDialogueConfirm","completed","reviewBy","Date","onDescriptionChange","e","value","onDescriptionBlur","a","handleDateChange","date","canComplete","handleCheckboxChange","handleDelete","preventDefault","provided","draggableProps","ref","innerRef","Grid","container","item","xs","sm","md","Tooltip","title","inputProps","indeterminate","TextField","onBlur","utils","DateFnsUtils","disableToolbar","inputVariant","KeyboardButtonProps","open","onOpen","onClose","fullWidth","IconButton","ConfirmDialogue","onCancel","onConfirm","dragHandleProps","ActionNotes","currentClient","note","notes","content","setContent","handleContentBlur","UpdateNotes","ActionNotesUseCase","update","addNotesToContainer","newNotesItem","create","AddNotes","removeNote","RemoveNote","delete","multiline","rows","actionItemKeyTitleMapping","key","actionTitleMapping","lastInArray","arr","length","arraySwap","source","destination","replace","copy","splice","ActionContainer","identfier","priority","generateKey","setSaving","shouldSave","setShouldSave","setLastSaved","useEffect","setInterval","ActionChecklistUseCase","findByClientAndContainer","DB","ActionPriorityUseCase","PRIOR","isEqual","bulkUpdate","clearInterval","identifier","newActionItem","newChecklistItem","dbKey","order","AddNewActionItem","checklist","RemoveActionItem","targetId","priorityId","mapThroughPriorityOrder","idx","findObjectIndexByValue","constructKey","checklistItem","ExpandableNav","onDragEnd","results","droppableId","UpdatePriorityOrder","droppableProps","map","placeholder","indexOf","React","memo","ActionItemMapping","cashInActions","cashOutActions","planningBusiness","recordKeeping","funding","managing","planningCommitments","tracking","transition","ActionChecklistMachine","Machine","initial","states","loading","on","HAS_CONTENT","ActionChecklistTips","useSharedTipStyling","List","list","component","ActionChecklist","useMachine","state","send","checklistCollection","databaseSyced","ClientContext","printPDF","clientId","findByClient","pdfChecklists","pdfNotes","pdfPriority","ActionChecklistPDF","pdf","servePDF","role","SectionTitle","Spacer","Divider","Object","keys","filter","filterByActionContainer","prior","Loading","renderActionChecklist","FourQuestions","disablePadding","ListItem","button","ListItemIcon","ListItemText","PageTip","tip","listStyle","usePageTipStyles","position","left","bottom","icon","marginRight","drawer","maxWidth","closeBox","borderBottom","borderBottomColor","borderBottomStyle","style","drawerOpen","setDrawerOpen","toggleDrawer","KeyboardEvent","Fab","Drawer","anchor","classes","paper","createElement","useSTStyles","fontWeight","fontSize","typography","h5","children","props","addPadding","columns","pageDefaultSettings","pageSize","pageMargins","footer","text","alignment","frameContent","inner","table","widths","body","pageHeading","layout","pagePadding","basicTable","items","browser","detect","download","answerText","answers","getOptionByAnswer","answerTheming","questions","options","useFourQsStyles","getIcon","answer","opt","Icon","reactourLabel","fourQuestionsContent","listItem","listItemFirst","listItemText","answerIconRoot","pdfMake","vfs","pdfFonts","itemsSection","docDefinition","i","actionContainer","sortedItems","p","findIndex","x","v","push","pageHeader","bold","fillColor","lightBlue","heading","subHeading","rightAlign","noResult","italics","decoration","defaultStyle","createPdf"],"mappings":"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","file":"static/js/19.2d28c5eb.chunk.js","sourcesContent":["import { makeStyles } from \"@material-ui/core\"\n\n// Styles definition for the Action Header components\nconst useActionHeaderStyles = makeStyles((theme) => ({\n\troot: {\n\t\tmarginBottom: theme.spacing(2),\n\t},\n\tbox: {\n\t\tflexGrow: 2,\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-end\",\n\t},\n}))\n\nexport default useActionHeaderStyles\n","import React, { ReactElement, useContext } from \"react\"\nimport { FormControlLabel, Checkbox, Box } from \"@material-ui/core\"\nimport useActionHeaderStyles from \"./_config/style\"\nimport { ActionChecklistContext } from \"../../../state/action-checklist\"\nimport { ActionChecklistActionTypes } from \"../../../state/action-checklist/shape\"\n\n/**\n * Header component for the Action Checklist page\n *\n * @returns ReactElement\n */\nconst ActionHeader = (): ReactElement => {\n\tconst styles = useActionHeaderStyles()\n\tconst { hideCompleted, dispatch } = useContext(ActionChecklistContext)\n\n\t/**\n\t * Change the state of the \"hide all completed\"\n\t * checkbox\n\t *\n\t * @param {React.ChangeEvent<HTMLInputElement>} event\n\t * @returns void\n\t */\n\tconst handleHideChange = (\n\t\tevent: React.ChangeEvent<HTMLInputElement>\n\t): void => {\n\t\tdispatch({\n\t\t\ttype: ActionChecklistActionTypes.ChangeHideCompleted,\n\t\t\tpayload: event.target.checked,\n\t\t})\n\t}\n\n\treturn (\n\t\t<Box className={styles.root}>\n\t\t\t<FormControlLabel\n\t\t\t\tcontrol={\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tchecked={hideCompleted}\n\t\t\t\t\t\tonChange={handleHideChange}\n\t\t\t\t\t\tname=\"hide-items\"\n\t\t\t\t\t/>\n\t\t\t\t}\n\t\t\t\tlabel=\"Hide completed actions\"\n\t\t\t/>\n\t\t</Box>\n\t)\n}\n\nexport default ActionHeader\n","import { makeStyles } from \"@material-ui/core\"\n\n// style definition for action container component\nexport const useActionContainerStyles = makeStyles((theme) => ({\n\tdropdownBody: {\n\t\tpaddingRight: theme.spacing(2),\n\t\tpaddingLeft: theme.spacing(2),\n\t},\n}))\n\n// style definition for action styles component\nexport const useActionsStyles = makeStyles((theme) => ({\n\tactionsWrapper: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-start\",\n\t\tmarginTop: theme.spacing(3),\n\t\talignItems: \"center\",\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tflexDirection: \"column\",\n\t\t\talignItems: \"flex-start\",\n\t\t\tmarginTop: theme.spacing(2),\n\t\t},\n\t},\n\tsaveIndicator: {\n\t\tuserSelect: \"none\",\n\t\t[theme.breakpoints.up(\"sm\")]: {\n\t\t\tmarginLeft: theme.spacing(2),\n\t\t},\n\t},\n}))\n\n// style definition for action item component\nexport const useActionItemStyles = makeStyles((theme) => ({\n\tgridRoot: {\n\t\talignItems: \"center\",\n\t\tmargin: 0,\n\t\twidth: \"100%\",\n\t\tbackground: \"white\",\n\t\t\"& > .MuiGrid-item\": {\n\t\t\tpaddingTop: theme.spacing(1),\n\t\t\tpaddingBottom: theme.spacing(1),\n\t\t},\n\t},\n\thide: {\n\t\theight: \"10px\",\n\t\tbackground: theme.palette.grey[200],\n\t\tmarginTop: theme.spacing(1),\n\t\tmarginBottom: theme.spacing(1),\n\t\t\"& > *\": {\n\t\t\tdisplay: \"none !important\",\n\t\t},\n\t},\n\ttextfield: {\n\t\twidth: \"100%\",\n\t},\n\tactions: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-end\",\n\t},\n\tdragIcon: {\n\t\tcursor: \"move\",\n\t},\n\tcompletedText: {\n\t\tpadding: \"18.5px 14px\",\n\t\tlineHeight: \"1.1876em\",\n\t\ttextDecoration: \"line-through\",\n\t},\n\tdatepicker: {\n\t\tmargin: 0,\n\t},\n}))\n\nexport const useActionNotesStyles = makeStyles((theme) => ({\n\tbox: {\n\t\tmarginTop: theme.spacing(3),\n\t},\n\ttextfield: {\n\t\twidth: \"100%\",\n\t},\n\tgridRoot: {\n\t\talignItems: \"center\",\n\t},\n\tgridActions: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"flex-end\",\n\t},\n}))\n","import React, { ReactElement } from \"react\"\nimport AddIcon from \"@material-ui/icons/Add\"\nimport { Box, Button, Typography } from \"@material-ui/core\"\nimport { format } from \"date-fns\"\nimport { useActionsStyles } from \"../_config/styles\"\nimport { IActionsProps } from \"../_config/shape\"\n\n/**\n * Component to display all the actions for a\n * action container\n *\n * @param {IActionsProps} props\n * @returns ReactElement\n */\nconst Actions = ({\n\taddNewAction,\n\tdisabled,\n\tsaving,\n\tlastSaved,\n}: IActionsProps): ReactElement => {\n\tconst styles = useActionsStyles()\n\n\treturn (\n\t\t<Box className={styles.actionsWrapper}>\n\t\t\t<Button\n\t\t\t\tvariant=\"outlined\"\n\t\t\t\tcolor=\"primary\"\n\t\t\t\tstartIcon={<AddIcon />}\n\t\t\t\tonClick={addNewAction}\n\t\t\t\tdisabled={disabled}\n\t\t\t>\n\t\t\t\tAdd action\n\t\t\t</Button>\n\t\t\t<Typography\n\t\t\t\tvariant=\"overline\"\n\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\tclassName={styles.saveIndicator}\n\t\t\t>\n\t\t\t\t{saving ? \"Saving...\" : `Saved at ${format(lastSaved, \"H:mm:ss a\")}`}\n\t\t\t</Typography>\n\t\t</Box>\n\t)\n}\n\nexport default Actions\n","import React, {\n\tReactElement,\n\tChangeEvent,\n\tFocusEvent,\n\tuseState,\n\tMouseEvent,\n} from \"react\"\nimport {\n\tGrid,\n\tCheckbox,\n\tTextField,\n\tIconButton,\n\tTooltip,\n\tTypography,\n} from \"@material-ui/core\"\nimport DragIndicatorIcon from \"@material-ui/icons/DragIndicator\"\nimport DeleteIcon from \"@material-ui/icons/Delete\"\nimport { Draggable } from \"react-beautiful-dnd\"\nimport {\n\tMuiPickersUtilsProvider,\n\tKeyboardDatePicker,\n} from \"@material-ui/pickers\"\nimport DateFnsUtils from \"@date-io/date-fns\"\nimport { format } from \"date-fns\"\nimport { useActionItemStyles } from \"../_config/styles\"\nimport { IActionItemProps } from \"../_config/shape\"\nimport { ActionChecklistActionTypes } from \"../../../../state/action-checklist/shape\"\nimport { BaseActionChecklistStruct } from \"../../../../data/_config/shape\"\nimport ConfirmDialogue from \"../../../ConfirmDialogue\"\n\n/**\n * Component used to render a single action item\n *\n * @param {IActionItemProps} props\n * @returns ReactElement\n */\nconst ActionItem = ({\n\tindex,\n\tdraggableId,\n\tdata,\n\tdispatch,\n\tdeleteAction,\n\tlastItemInList,\n\tglobalHide,\n}: IActionItemProps): ReactElement => {\n\tconst styles = useActionItemStyles()\n\tconst [cacheDescription, setCacheDescription] = useState<string>(\n\t\tdata.description\n\t)\n\tconst [dialogueOpen, setDialogueOpen] = useState<boolean>(false)\n\tconst [datepickerOpen, setDatepickerOpen] = useState(false)\n\n\t/**\n\t * Triggers a update action to change the state\n\t *\n\t * @param {BaseActionChecklistStruct} newData Updated data\n\t * @returns void\n\t */\n\tconst triggerDispatch = (newData: BaseActionChecklistStruct): void => {\n\t\tif (data?.id) {\n\t\t\tdispatch({\n\t\t\t\ttype: ActionChecklistActionTypes.UpdateActionItem,\n\t\t\t\tpayload: {\n\t\t\t\t\tid: data.id,\n\t\t\t\t\tdata: newData,\n\t\t\t\t},\n\t\t\t})\n\t\t}\n\t}\n\n\t/**\n\t * Closes the confirmation dialogue\n\t *\n\t * @returns void\n\t */\n\tconst onDialogueClose = (): void => {\n\t\tsetDialogueOpen(false)\n\t}\n\n\t/**\n\t * Triggers the delete method if the dialogue is confirmed\n\t *\n\t * @returns void\n\t */\n\tconst onDialogueConfirm = (): void => {\n\t\tif (!lastItemInList) {\n\t\t\t// Deletes the item from the db & state\n\t\t\tdeleteAction(data.id || \"\")\n\t\t} else {\n\t\t\t// Reset the last item\n\t\t\tsetCacheDescription(\"\")\n\t\t\ttriggerDispatch({\n\t\t\t\t...data,\n\t\t\t\tdescription: \"\",\n\t\t\t\tcompleted: false,\n\t\t\t\treviewBy: new Date(),\n\t\t\t})\n\t\t}\n\t\tsetDialogueOpen(false)\n\t}\n\n\t/**\n\t * Changes the state for the description value\n\t *\n\t * @param {ChangeEvent<HTMLInputElement>} e\n\t */\n\tconst onDescriptionChange = (e: ChangeEvent<HTMLInputElement>): void => {\n\t\tsetCacheDescription(e.target.value)\n\t}\n\n\t/**\n\t * When focusing OFF the description field,\n\t * update the state. This prevents a delay in input\n\t *\n\t * @async\n\t * @param {FocusEvent<HTMLInputElement>} e\n\t * @returns Promise<void>\n\t */\n\tconst onDescriptionBlur = async (\n\t\te: FocusEvent<HTMLInputElement>\n\t): Promise<void> => {\n\t\tif (data.description !== cacheDescription) {\n\t\t\ttriggerDispatch({\n\t\t\t\t...data,\n\t\t\t\tdescription: cacheDescription,\n\t\t\t})\n\t\t}\n\t}\n\n\t/**\n\t * Change the state of the \"Review by\" date\n\t *\n\t * @param {Date|null} date\n\t * @returns void\n\t */\n\tconst handleDateChange = (date: Date | null): void => {\n\t\tif (date) {\n\t\t\ttriggerDispatch({\n\t\t\t\t...data,\n\t\t\t\treviewBy: date,\n\t\t\t})\n\t\t\tsetDatepickerOpen(false)\n\t\t}\n\t}\n\n\t/**\n\t * Check to see if item can be completed\n\t *\n\t * @returns boolean\n\t */\n\tconst canComplete = (): boolean => cacheDescription !== \"\"\n\n\t/**\n\t * Handles the change event when completing a action\n\t *\n\t * @param {ChangeEvent<HTMLInputElement>} e\n\t * @returns void\n\t */\n\tconst handleCheckboxChange = (e: ChangeEvent<HTMLInputElement>): void => {\n\t\ttriggerDispatch({\n\t\t\t...data,\n\t\t\tcompleted: e.target.checked,\n\t\t})\n\t}\n\n\t/**\n\t * Method to handle the action triggered when clicking\n\t * on the delete icon\n\t *\n\t * @param {MouseEvent<HTMLButtonElement>} e\n\t * @returns void\n\t */\n\tconst handleDelete = (e: MouseEvent<HTMLButtonElement>): void => {\n\t\te.preventDefault()\n\t\tsetDialogueOpen(true)\n\t}\n\n\treturn (\n\t\t<Draggable draggableId={`${draggableId}`} index={index}>\n\t\t\t{(provided): ReactElement => (\n\t\t\t\t<div\n\t\t\t\t\t// eslint-disable-next-line react/jsx-props-no-spreading\n\t\t\t\t\t{...provided.draggableProps}\n\t\t\t\t\tref={provided.innerRef}\n\t\t\t\t\tclassName=\"action-item\"\n\t\t\t\t>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\tclassName={`${styles.gridRoot} ${\n\t\t\t\t\t\t\tglobalHide && data.completed ? styles.hide : \"\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{/* TODO: Split some of these into other partials */}\n\t\t\t\t\t\t<Grid item xs={2} sm={1} md={1}>\n\t\t\t\t\t\t\t<Tooltip title=\"Mark as done\">\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tchecked={data.completed}\n\t\t\t\t\t\t\t\t\tinputProps={{ \"aria-label\": \"completed checkbox\" }}\n\t\t\t\t\t\t\t\t\tid={`action-complete--${data?.id}`}\n\t\t\t\t\t\t\t\t\tonChange={handleCheckboxChange}\n\t\t\t\t\t\t\t\t\tdisabled={!canComplete()}\n\t\t\t\t\t\t\t\t\tindeterminate={!canComplete()}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={10} sm={5} md={6}>\n\t\t\t\t\t\t\t{data.completed ? (\n\t\t\t\t\t\t\t\t<Typography className={styles.completedText}>\n\t\t\t\t\t\t\t\t\t{data.description}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tclassName={styles.textfield}\n\t\t\t\t\t\t\t\t\tid={`action-description--${data?.id}`}\n\t\t\t\t\t\t\t\t\tlabel=\"Action item\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tvalue={cacheDescription}\n\t\t\t\t\t\t\t\t\tonChange={onDescriptionChange}\n\t\t\t\t\t\t\t\t\tonBlur={onDescriptionBlur}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} sm={4} md={3}>\n\t\t\t\t\t\t\t{data.completed ? (\n\t\t\t\t\t\t\t\t<Typography className={styles.completedText}>\n\t\t\t\t\t\t\t\t\t{format(data.reviewBy, \"dd/MM/yyyy\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<MuiPickersUtilsProvider utils={DateFnsUtils}>\n\t\t\t\t\t\t\t\t\t<KeyboardDatePicker\n\t\t\t\t\t\t\t\t\t\tdisableToolbar\n\t\t\t\t\t\t\t\t\t\tvariant=\"inline\"\n\t\t\t\t\t\t\t\t\t\tinputVariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tformat=\"dd/MM/yyyy\"\n\t\t\t\t\t\t\t\t\t\tid={`action-reviewby--${data?.id}`}\n\t\t\t\t\t\t\t\t\t\tlabel=\"Review by\"\n\t\t\t\t\t\t\t\t\t\tvalue={data.reviewBy}\n\t\t\t\t\t\t\t\t\t\tonChange={handleDateChange}\n\t\t\t\t\t\t\t\t\t\tKeyboardButtonProps={{\n\t\t\t\t\t\t\t\t\t\t\t\"aria-label\": \"change date\",\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tclassName={styles.datepicker}\n\t\t\t\t\t\t\t\t\t\topen={datepickerOpen}\n\t\t\t\t\t\t\t\t\t\tonOpen={(): void => setDatepickerOpen(true)}\n\t\t\t\t\t\t\t\t\t\tonClose={(): void => setDatepickerOpen(false)}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</MuiPickersUtilsProvider>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item xs={12} sm={2} md={2} className={styles.actions}>\n\t\t\t\t\t\t\t<Tooltip title=\"Delete\">\n\t\t\t\t\t\t\t\t<IconButton onClick={handleDelete}>\n\t\t\t\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t\t\t\t\t<span className=\"MuiTypography-srOnly\">Delete item</span>\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t<ConfirmDialogue\n\t\t\t\t\t\t\t\topen={dialogueOpen}\n\t\t\t\t\t\t\t\tonClose={onDialogueClose}\n\t\t\t\t\t\t\t\tonCancel={onDialogueClose}\n\t\t\t\t\t\t\t\tonConfirm={onDialogueConfirm}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAre you sure you want to remove this item?\n\t\t\t\t\t\t\t</ConfirmDialogue>\n\t\t\t\t\t\t\t<Tooltip title=\"Reposition\">\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\tclassName={styles.dragIcon}\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line react/jsx-props-no-spreading\n\t\t\t\t\t\t\t\t\t{...provided.dragHandleProps}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<DragIndicatorIcon />\n\t\t\t\t\t\t\t\t\t<span className=\"MuiTypography-srOnly\">Reorder priority</span>\n\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Draggable>\n\t)\n}\n\nexport default ActionItem\n","import React, { ReactElement, useState, ChangeEvent, MouseEvent } from \"react\"\nimport {\n\tTextField,\n\tBox,\n\tButton,\n\tIconButton,\n\tGrid,\n\tTooltip,\n} from \"@material-ui/core\"\nimport AddIcon from \"@material-ui/icons/Add\"\nimport DeleteIcon from \"@material-ui/icons/Delete\"\nimport { useActionNotesStyles } from \"../_config/styles\"\nimport { IActionNotesProps } from \"../_config/shape\"\nimport ActionNotesUseCase from \"../../../../data/ActionChecklist/NotesLogic\"\nimport { newNotesItem } from \"../../../../data/ActionChecklist/_config/utilities\"\nimport { ActionChecklistActionTypes } from \"../../../../state/action-checklist/shape\"\n\nconst ActionNotes = ({\n\tcurrentClient,\n\tcontainer,\n\tnote,\n\tdispatch,\n}: IActionNotesProps): ReactElement => {\n\tconst styles = useActionNotesStyles()\n\tconst [content, setContent] = useState<string>(note?.notes || \"\")\n\n\tconst handleContentChange = (e: ChangeEvent<HTMLInputElement>): void => {\n\t\tsetContent(e.target.value)\n\t}\n\n\tconst handleContentBlur = async (): Promise<void> => {\n\t\tif (note?.id && note.notes !== content) {\n\t\t\tconst newData = {\n\t\t\t\t...note,\n\t\t\t\tnotes: content,\n\t\t\t}\n\t\t\tdispatch({\n\t\t\t\ttype: ActionChecklistActionTypes.UpdateNotes,\n\t\t\t\tpayload: {\n\t\t\t\t\tid: note.id,\n\t\t\t\t\tdata: newData,\n\t\t\t\t},\n\t\t\t})\n\t\t\tawait ActionNotesUseCase.update(note.id, newData)\n\t\t}\n\t}\n\n\tconst addNotesToContainer = async (\n\t\te: MouseEvent<HTMLButtonElement>\n\t): Promise<void> => {\n\t\te.preventDefault()\n\t\tconst item = newNotesItem(currentClient, container)\n\t\tconst id = await ActionNotesUseCase.create(item)\n\t\tdispatch({\n\t\t\ttype: ActionChecklistActionTypes.AddNotes,\n\t\t\tpayload: {\n\t\t\t\tid,\n\t\t\t\t...item,\n\t\t\t},\n\t\t})\n\t}\n\n\tconst removeNote = async (\n\t\te: MouseEvent<HTMLButtonElement>\n\t): Promise<void> => {\n\t\te.preventDefault()\n\t\tif (note?.id) {\n\t\t\tdispatch({\n\t\t\t\ttype: ActionChecklistActionTypes.RemoveNote,\n\t\t\t\tpayload: note.id,\n\t\t\t})\n\t\t\tawait ActionNotesUseCase.delete(note.id)\n\t\t}\n\t}\n\n\treturn (\n\t\t<Box className={styles.box}>\n\t\t\t{note ? (\n\t\t\t\t<Grid container className={styles.gridRoot}>\n\t\t\t\t\t<Grid item xs={10}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tclassName={styles.textfield}\n\t\t\t\t\t\t\tlabel=\"Notes\"\n\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tvalue={content}\n\t\t\t\t\t\t\tonChange={handleContentChange}\n\t\t\t\t\t\t\tonBlur={handleContentBlur}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={2} className={styles.gridActions}>\n\t\t\t\t\t\t<Tooltip title=\"Delete note\">\n\t\t\t\t\t\t\t<IconButton onClick={removeNote}>\n\t\t\t\t\t\t\t\t<DeleteIcon />\n\t\t\t\t\t\t\t\t<span className=\"MuiTypography-srOnly\">Delete note</span>\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t) : (\n\t\t\t\t<Button startIcon={<AddIcon />} onClick={addNotesToContainer}>\n\t\t\t\t\tAdd notes\n\t\t\t\t</Button>\n\t\t\t)}\n\t\t</Box>\n\t)\n}\n\nexport default ActionNotes\n","/* eslint-disable import/prefer-default-export */\nimport { PossibleActionItems } from \"../../../../state/action-checklist/shape\"\nimport { actionTitleMapping } from \"./data\"\n\n/**\n * Gets the title for the current Action container\n *\n * @param {PossibleActionItems} key\n * @returns string\n */\nexport const actionItemKeyTitleMapping = (key: PossibleActionItems): string =>\n\tactionTitleMapping[key]\n\n/**\n * Get a list of identifiers that are \"static\",\n * ie they should always be showen\n *\n * @returns PossibleActionItems[]\n */\nexport const staticIdentifier = (): PossibleActionItems[] => [\n\t\"cashInActions\",\n\t\"cashOutActions\",\n]\n\n/**\n * Checks if the container is not cashInActions OR cashOutActions\n *\n * @param {PossibleActionItems} identifier\n * @returns boolean\n */\nexport const allowNotes = (identifier: PossibleActionItems): boolean =>\n\tstaticIdentifier().indexOf(identifier) === -1\n","/**\n * Returns the last items in an array\n *\n * @param {any[]} arr\n * @returns {any}\n */\nconst lastInArray = (arr: any[]): any => arr[arr.length - 1] // eslint-disable-line\nexport default lastInArray\n","/**\n * Swaps a items in an array\n *\n * @param {T[]} arr\n * @param {number} source\n * @param {number} destination\n * @param {T} replace\n * @returns {T[]}\n */\n\n/* eslint-disable fp/no-mutating-methods */\n\nconst arraySwap = <T>(\n\tarr: T[],\n\tsource: number,\n\tdestination: number,\n\treplace: T\n): T[] => {\n\tconst copy = [...arr]\n\tcopy.splice(source, 1)\n\tcopy.splice(destination, 0, replace)\n\n\treturn copy\n}\n\nexport default arraySwap\n","import React, {\n\tReactElement,\n\tMouseEvent,\n\tuseContext,\n\tuseState,\n\tFragment,\n\tuseEffect,\n} from \"react\"\nimport { Box } from \"@material-ui/core\"\nimport { DragDropContext, Droppable, DropResult } from \"react-beautiful-dnd\"\nimport { isEqual } from \"lodash-es\"\nimport ExpandableNav from \"../../ExpandableNav\"\nimport { IActionContainerProps } from \"./_config/shape\"\nimport { useActionContainerStyles } from \"./_config/styles\"\nimport { Actions, ActionItem, ActionNotes } from \"./_partials\"\nimport { actionItemKeyTitleMapping, allowNotes } from \"./_config/utilities\"\nimport { ActionChecklistContext } from \"../../../state/action-checklist\"\nimport { ActionChecklistActionTypes } from \"../../../state/action-checklist/shape\"\nimport lastInArray from \"../../../util/array/lastInArray\"\nimport { generateKey, constructKey } from \"../../../util/lists/key\"\nimport {\n\tActionChecklistId,\n\tActionChecklistStruct,\n} from \"../../../data/_config/shape\"\nimport findObjectIndexByValue from \"../../../util/array/findObjectIndexByValue\"\nimport ActionChecklistUseCase from \"../../../data/ActionChecklist/ChecklistLogic\"\nimport ActionPriorityUseCase from \"../../../data/ActionChecklist/PriorityLogic\"\nimport arraySwap from \"../../../util/array/arraySwap\"\nimport { newChecklistItem } from \"../../../data/ActionChecklist/_config/utilities\"\n\n/**\n * A single Action items wrapper\n *\n * @param {PossibleActionItems} {identfier}\n * @param {ISingleActionItem} {data}\n * @returns ReactElement\n */\nconst ActionContainer = ({\n\tidentfier,\n\tdata,\n\tpriority,\n\tnotes,\n\tcurrentClient,\n}: IActionContainerProps): ReactElement => {\n\t// #region Component functionality\n\tconst styles = useActionContainerStyles()\n\tconst { dispatch, hideCompleted } = useContext(ActionChecklistContext)\n\tconst [key] = useState(generateKey())\n\tconst [saving, setSaving] = useState<boolean>(false)\n\tconst [shouldSave, setShouldSave] = useState<boolean>(true)\n\tconst [lastSaved, setLastSaved] = useState<Date>(new Date())\n\n\tuseEffect(() => {\n\t\t// Run every 1.5s\n\t\tconst id = setInterval(async () => {\n\t\t\tif (!shouldSave) return\n\t\t\t// Get the database data for this container\n\t\t\tconst DB = await ActionChecklistUseCase.findByClientAndContainer(\n\t\t\t\tidentfier,\n\t\t\t\tcurrentClient\n\t\t\t)\n\t\t\tconst PRIOR = await ActionPriorityUseCase.findByClientAndContainer(\n\t\t\t\tidentfier,\n\t\t\t\tcurrentClient\n\t\t\t)\n\n\t\t\t// If it is out of sync with the state\n\t\t\tif (!isEqual(DB, data) || !isEqual(PRIOR[0], priority)) {\n\t\t\t\t// Bulk update the database to insync with the state\n\t\t\t\tsetSaving(true)\n\t\t\t\tawait ActionChecklistUseCase.bulkUpdate(data)\n\t\t\t\tif (priority?.id) {\n\t\t\t\t\tawait ActionPriorityUseCase.update(priority.id, priority)\n\t\t\t\t}\n\t\t\t\tsetLastSaved(new Date())\n\t\t\t\tsetSaving(false)\n\t\t\t}\n\t\t}, 2000)\n\n\t\treturn (): void => clearInterval(id)\n\t}, [data, identfier, priority, currentClient, shouldSave])\n\n\t/**\n\t * Event that triggers once a item is dropped\n\t *\n\t * @param {DropResult} results\n\t * @returns void\n\t */\n\tconst onDragEnd = (results: DropResult): void => {\n\t\tconst { destination, source, draggableId } = results\n\n\t\tif (\n\t\t\t!destination ||\n\t\t\t(destination.droppableId === source.droppableId &&\n\t\t\t\tdestination.index === source.index)\n\t\t) {\n\t\t\treturn\n\t\t}\n\n\t\tconst order = arraySwap<string>(\n\t\t\tpriority.order,\n\t\t\tsource.index,\n\t\t\tdestination.index,\n\t\t\tdraggableId\n\t\t)\n\n\t\tdispatch({\n\t\t\ttype: ActionChecklistActionTypes.UpdatePriorityOrder,\n\t\t\tpayload: {\n\t\t\t\t...priority,\n\t\t\t\torder,\n\t\t\t},\n\t\t})\n\t}\n\n\t/**\n\t * Handles the state change when adding a new action item\n\t *\n\t * @param {MouseEvent<HTMLButtonElement>} e\n\t * @returns void\n\t */\n\tconst addNewAction = async (\n\t\te: MouseEvent<HTMLButtonElement>\n\t): Promise<void> => {\n\t\te.preventDefault()\n\t\tif (currentClient && priority.id) {\n\t\t\tconst newActionItem = newChecklistItem(currentClient, identfier)\n\t\t\t// Adds checklist item to db\n\t\t\tconst dbKey = await ActionChecklistUseCase.create(newActionItem)\n\t\t\t// Updates db item with order\n\t\t\tawait ActionPriorityUseCase.update(priority.id, {\n\t\t\t\t...priority,\n\t\t\t\torder: [...priority.order, dbKey],\n\t\t\t})\n\n\t\t\t// Dispatch the state change\n\t\t\tdispatch({\n\t\t\t\ttype: ActionChecklistActionTypes.AddNewActionItem,\n\t\t\t\tpayload: {\n\t\t\t\t\tchecklist: {\n\t\t\t\t\t\tid: dbKey,\n\t\t\t\t\t\t...newActionItem,\n\t\t\t\t\t},\n\t\t\t\t\tpriority: priority.id,\n\t\t\t\t},\n\t\t\t})\n\t\t}\n\t}\n\n\t/**\n\t * Deletes a action from the db and state\n\t *\n\t * @async\n\t * @param {ActionChecklistId} id ID of the checklist to delete\n\t * @returns Promise<void>\n\t */\n\tconst deleteAction = async (id: ActionChecklistId): Promise<void> => {\n\t\tif (priority.id) {\n\t\t\tsetShouldSave(false)\n\t\t\t// remove the checklist item from the db\n\t\t\tawait ActionChecklistUseCase.delete(id)\n\t\t\t// remove the priority item from the db if it is removing the last item\n\t\t\t// in the order\n\t\t\tif (priority.order.length === 1) {\n\t\t\t\tawait ActionPriorityUseCase.delete(priority.id)\n\t\t\t}\n\t\t\t// remove the checklist item from state and priority order\n\t\t\tdispatch({\n\t\t\t\ttype: ActionChecklistActionTypes.RemoveActionItem,\n\t\t\t\tpayload: {\n\t\t\t\t\ttargetId: id,\n\t\t\t\t\tpriorityId: priority.id,\n\t\t\t\t},\n\t\t\t})\n\n\t\t\tsetShouldSave(true)\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the latest item has content before\n\t * letting a user add more actions\n\t *\n\t * @returns boolean\n\t */\n\tconst preventAddingNew = (): boolean => lastInArray(data).description === \"\"\n\n\t/**\n\t * Checks if the item is the last in the list\n\t *\n\t * @returns boolean\n\t */\n\tconst lastItemInList = (): boolean => data.length === 1\n\n\t/**\n\t * Map method to render all the action items\n\t * in priority order\n\t *\n\t * @param {ActionChecklistId} id\n\t * @param {number} idx\n\t * @returns ReactElement\n\t */\n\tconst mapThroughPriorityOrder = (\n\t\tid: ActionChecklistId,\n\t\tidx: number\n\t): ReactElement => {\n\t\tconst index = findObjectIndexByValue(data, \"id\", id)\n\n\t\tif (index === -1) return <Fragment key={constructKey(key, idx)} />\n\n\t\tconst checklistItem: ActionChecklistStruct = data[index]\n\t\tif (checklistItem?.id) {\n\t\t\treturn (\n\t\t\t\t<ActionItem\n\t\t\t\t\tkey={checklistItem?.id}\n\t\t\t\t\tdraggableId={checklistItem?.id}\n\t\t\t\t\tindex={idx}\n\t\t\t\t\tdata={checklistItem}\n\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\tdeleteAction={deleteAction}\n\t\t\t\t\tlastItemInList={lastItemInList()}\n\t\t\t\t\tglobalHide={hideCompleted}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t\treturn <Fragment key={constructKey(key, idx)} />\n\t}\n\n\t// #endregion\n\n\t// #region Component Markup\n\treturn (\n\t\t<ExpandableNav title={actionItemKeyTitleMapping(identfier)}>\n\t\t\t<DragDropContext onDragEnd={onDragEnd}>\n\t\t\t\t<Box className={styles.dropdownBody}>\n\t\t\t\t\t<Droppable droppableId={identfier}>\n\t\t\t\t\t\t{(provided): ReactElement => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t// eslint-disable-next-line react/jsx-props-no-spreading\n\t\t\t\t\t\t\t\t{...provided.droppableProps}\n\t\t\t\t\t\t\t\tref={provided.innerRef}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{priority.order.map(mapThroughPriorityOrder)}\n\t\t\t\t\t\t\t\t{provided.placeholder}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Droppable>\n\t\t\t\t\t{allowNotes(identfier) && (\n\t\t\t\t\t\t<ActionNotes\n\t\t\t\t\t\t\tcurrentClient={currentClient}\n\t\t\t\t\t\t\tcontainer={identfier}\n\t\t\t\t\t\t\tnote={notes}\n\t\t\t\t\t\t\tdispatch={dispatch}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t<Actions\n\t\t\t\t\t\taddNewAction={addNewAction}\n\t\t\t\t\t\tdisabled={preventAddingNew()}\n\t\t\t\t\t\tsaving={saving}\n\t\t\t\t\t\tlastSaved={lastSaved}\n\t\t\t\t\t/>\n\t\t\t\t</Box>\n\t\t\t</DragDropContext>\n\t\t</ExpandableNav>\n\t)\n\t// #endregion\n}\n\nexport default React.memo(ActionContainer)\n","import { PossibleActionItems } from \"../../../state/action-checklist/shape\"\n\n// eslint-disable-next-line import/prefer-default-export\nexport const ActionItemMapping: Record<\n\tPossibleActionItems,\n\tPossibleActionItems\n> = {\n\tcashInActions: \"cashInActions\",\n\tcashOutActions: \"cashOutActions\",\n\tplanningBusiness: \"planningBusiness\",\n\trecordKeeping: \"recordKeeping\",\n\tfunding: \"funding\",\n\tmanaging: \"managing\",\n\tplanningCommitments: \"planningCommitments\",\n\ttracking: \"tracking\",\n\ttransition: \"transition\",\n}\n","import { Machine } from \"xstate\"\n\nexport type StateMap = \"loading\" | \"content\"\n\nexport interface IActionChecklistSchema {\n\tstates: {\n\t\tloading: Record<string, unknown>\n\t\tcontent: Record<string, unknown>\n\t}\n}\n\nexport type ACEvents = { type: \"HAS_CONTENT\" }\n\nexport const ActionChecklistMachine = Machine<\n\tnull,\n\tIActionChecklistSchema,\n\tACEvents\n>({\n\tkey: \"ac_machine\",\n\tinitial: \"loading\",\n\tstates: {\n\t\tloading: {\n\t\t\ton: {\n\t\t\t\tHAS_CONTENT: \"content\",\n\t\t\t},\n\t\t},\n\t\tcontent: {},\n\t},\n})\n","import React, { ReactElement } from \"react\"\nimport { Typography, List } from \"@material-ui/core\"\nimport useSharedTipStyling from \"./style\"\n\n/**\n * Tip displayed on the client listing page\n *\n * @returns ReactElement\n */\nconst ActionChecklistTips = (): ReactElement => {\n\tconst styles = useSharedTipStyling()\n\n\treturn (\n\t\t<>\n\t\t\t<List className={styles.list}>\n\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\tPersonalise actions by adding descriptions\n\t\t\t\t</Typography>\n\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\tSet a review date for all actions\n\t\t\t\t</Typography>\n\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\tDiscuss strategies to complete the actions\n\t\t\t\t</Typography>\n\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\tUse the reorder button to prioritise action items\n\t\t\t\t</Typography>\n\t\t\t</List>\n\t\t\t<Typography variant=\"h6\">Next Steps</Typography>\n\t\t\t<List className={styles.list}>\n\t\t\t\t<Typography component=\"li\">Agree a review date</Typography>\n\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\tTrack goals by updating and checking off actions\n\t\t\t\t</Typography>\n\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\tAfter each review date, revisit Health Check and Actions for new\n\t\t\t\t\tinsights\n\t\t\t\t</Typography>\n\t\t\t</List>\n\t\t</>\n\t)\n}\n\nexport default ActionChecklistTips\n","import React, {\n\tReactElement,\n\tuseContext,\n\tuseState,\n\tFragment,\n\tuseEffect,\n} from \"react\"\nimport {\n\tGrid,\n\tList,\n\tListItem,\n\tListItemText,\n\tListItemIcon,\n\tBox,\n\tTypography,\n\tDivider,\n} from \"@material-ui/core\"\nimport PictureAsPdfIcon from \"@material-ui/icons/PictureAsPdf\"\nimport { useMachine } from \"@xstate/react\"\nimport { PageContainer } from \"../components/Layouts\"\nimport SectionTitle from \"../components/SectionTitle\"\nimport FourQuestions from \"../components/HealthCheck/FourQuestions\"\nimport ExpandableNav from \"../components/ExpandableNav\"\nimport { ActionHeader, ActionContainer } from \"../components/ActionChecklist\"\nimport PageTip from \"../components/PageTip\"\nimport { ActionChecklistContext } from \"../state/action-checklist\"\nimport { generateKey, constructKey } from \"../util/lists/key\"\nimport { PossibleActionItems } from \"../state/action-checklist/shape\"\nimport { ActionItemMapping } from \"../components/ActionChecklist/_config/data\"\nimport { ClientContext } from \"../state/client\"\nimport filterByActionContainer from \"../util/filters/ByActionContainer\"\nimport { ActionChecklistMachine } from \"../data/ActionChecklist/_config/machine\"\nimport Loading from \"../components/Loading\"\nimport Spacer from \"../components/Spacer\"\nimport ActionChecklistPDF from \"../components/PDF/ActionChecklistPDF\"\nimport servePDF from \"../components/PDF/servePDF\"\nimport ActionChecklistUseCase from \"../data/ActionChecklist/ChecklistLogic\"\nimport ActionNotesUseCase from \"../data/ActionChecklist/NotesLogic\"\nimport ActionPriorityUseCase from \"../data/ActionChecklist/PriorityLogic\"\nimport ActionChecklistTips from \"../content/tips/ActionChecklistTips\"\n\n/**\n * Action Checklist page component\n *\n * @returns ReactElement\n */\nconst ActionChecklist = (): ReactElement => {\n\tconst [state, send] = useMachine(ActionChecklistMachine)\n\tconst { checklistCollection, priority, databaseSyced, notes } = useContext(\n\t\tActionChecklistContext\n\t)\n\tconst {\n\t\tstate: { currentClient },\n\t} = useContext(ClientContext)\n\tconst [key] = useState(generateKey())\n\n\tuseEffect(() => {\n\t\tif (currentClient?.id && databaseSyced) {\n\t\t\tsend(\"HAS_CONTENT\")\n\t\t}\n\t}, [currentClient, databaseSyced, send])\n\n\t/**\n\t * Renders all the action containers based on\n\t * current state data\n\t *\n\t * @returns ReactElement[]\n\t */\n\tconst renderActionContainers = (): ReactElement[] =>\n\t\t(Object.keys(ActionItemMapping) as PossibleActionItems[]).map(\n\t\t\t(item, idx) => {\n\t\t\t\tif (currentClient?.id) {\n\t\t\t\t\tconst data = checklistCollection.filter(filterByActionContainer(item))\n\t\t\t\t\tconst prior = priority.filter(filterByActionContainer(item))\n\t\t\t\t\tconst note = notes.filter(filterByActionContainer(item))\n\n\t\t\t\t\tif (data.length > 0 && prior.length > 0) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<ActionContainer\n\t\t\t\t\t\t\t\tkey={constructKey(key, idx)}\n\t\t\t\t\t\t\t\tidentfier={item}\n\t\t\t\t\t\t\t\tdata={data}\n\t\t\t\t\t\t\t\tpriority={prior[0]}\n\t\t\t\t\t\t\t\tnotes={note[0] || null}\n\t\t\t\t\t\t\t\tcurrentClient={currentClient.id}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn <Fragment key={constructKey(key, idx)} />\n\t\t\t}\n\t\t)\n\n\tconst renderActionChecklist = (): ReactElement => {\n\t\tswitch (state.value) {\n\t\t\tcase \"content\":\n\t\t\t\treturn <>{renderActionContainers()}</>\n\t\t\tcase \"loading\":\n\t\t\tdefault:\n\t\t\t\treturn <Loading />\n\t\t}\n\t}\n\n\tconst printPDF = async (): Promise<void> => {\n\t\tif (currentClient?.id) {\n\t\t\tconst clientId = currentClient.id\n\t\t\tconst pdfChecklists = await ActionChecklistUseCase.findByClient(clientId)\n\t\t\tconst pdfNotes = await ActionNotesUseCase.findByClient(clientId)\n\t\t\tconst pdfPriority = await ActionPriorityUseCase.findByClient(clientId)\n\n\t\t\tconst pdf = await ActionChecklistPDF(\n\t\t\t\tcurrentClient?.name ?? \"Client\",\n\t\t\t\tpdfChecklists,\n\t\t\t\tpdfNotes,\n\t\t\t\tpdfPriority\n\t\t\t)\n\t\t\tservePDF(pdf)\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<PageContainer role=\"main\">\n\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t<Grid item xs={12} md={9}>\n\t\t\t\t\t\t<SectionTitle component=\"h1\">Action Checklist</SectionTitle>\n\t\t\t\t\t\t<Box className=\"content-area\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\tYour checklist has all the actions you selected in previous\n\t\t\t\t\t\t\t\tparts of the Cash Flow Coaching Kit.\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\tUse the checklist to track, prioritise and review your actions.\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Spacer />\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Spacer />\n\t\t\t\t\t\t<ActionHeader />\n\t\t\t\t\t\t<Box>{renderActionChecklist()}</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={3}>\n\t\t\t\t\t\t<FourQuestions />\n\t\t\t\t\t\t<ExpandableNav>\n\t\t\t\t\t\t\t<List component=\"nav\" disablePadding>\n\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t<PictureAsPdfIcon />\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ListItemText onClick={printPDF}>Generate PDF</ListItemText>\n\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</ExpandableNav>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</PageContainer>\n\n\t\t\t<PageTip tip={ActionChecklistTips} />\n\t\t</>\n\t)\n}\n\nexport default ActionChecklist\n","import { makeStyles } from \"@material-ui/core\"\n\n// Shared styling for the tip components\nconst useSharedTipStyling = makeStyles((theme) => ({\n\tlist: {\n\t\tlistStyle: \"disc\",\n\t\tpaddingLeft: theme.spacing(2),\n\t},\n}))\n\nexport default useSharedTipStyling\n","import { makeStyles } from \"@material-ui/core/styles\"\n\nconst usePageTipStyles = makeStyles((theme) => ({\n\troot: {\n\t\tposition: \"fixed\",\n\t\tleft: theme.spacing(2),\n\t\tbottom: theme.spacing(2),\n\t},\n\ticon: {\n\t\tmarginRight: theme.spacing(1),\n\t},\n\tdrawer: {\n\t\tpadding: theme.spacing(2),\n\t\tmaxWidth: \"350px\",\n\t\twidth: \"100%\",\n\t},\n\tcloseBox: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\tmarginBottom: theme.spacing(2),\n\t\tpaddingBottom: theme.spacing(2),\n\t\tborderBottom: 1,\n\t\tborderBottomColor: theme.palette.grey[500],\n\t\tborderBottomStyle: \"solid\",\n\t},\n}))\n\nexport default usePageTipStyles\n","import React, { ReactElement, useState, MouseEvent, createElement } from \"react\"\nimport { Fab, Drawer, Button, Box, Typography } from \"@material-ui/core\"\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\"\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\"\nimport usePageTipStyles from \"./_config/style\"\nimport { IPageTip } from \"./_config/shape\"\n\n/**\n * Renders a page tip tooltip at the bottom left of the page\n *\n * @param {string} {tip} File name (no extension) for the tip component\n * @returns ReactElement\n */\nconst PageTip = ({ tip }: IPageTip): ReactElement => {\n\tconst style = usePageTipStyles()\n\tconst [drawerOpen, setDrawerOpen] = useState<boolean>(false)\n\n\t/**\n\t * Toggles the state of the drawer\n\t *\n\t * @param {Boolean} open State to change the drawer to\n\t * @param {KeyboardEvent|MouseEvent<HTMLButtonElement>} event Event generated by a keypress|click\n\t */\n\tconst toggleDrawer =\n\t\t(open: boolean) =>\n\t\t(event: KeyboardEvent | MouseEvent<HTMLButtonElement>): void => {\n\t\t\tif (event instanceof KeyboardEvent) {\n\t\t\t\tif (\n\t\t\t\t\tevent.type === \"keydown\" &&\n\t\t\t\t\t(event.key === \"Tab\" || event.key === \"Shift\")\n\t\t\t\t) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Change the state of the drawer\n\t\t\tsetDrawerOpen(open)\n\t\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className={style.root} role=\"complementary\">\n\t\t\t\t<Fab color=\"secondary\" onClick={toggleDrawer(true)} variant=\"extended\">\n\t\t\t\t\t<HelpOutlineIcon className={style.icon} />\n\t\t\t\t\tTips\n\t\t\t\t</Fab>\n\t\t\t</div>\n\t\t\t<Drawer\n\t\t\t\tanchor=\"left\"\n\t\t\t\topen={drawerOpen}\n\t\t\t\tonClose={toggleDrawer(false)}\n\t\t\t\tclasses={{\n\t\t\t\t\tpaper: style.drawer,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Box className={style.closeBox}>\n\t\t\t\t\t<Typography variant=\"h6\">Tips</Typography>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={toggleDrawer(false)}\n\t\t\t\t\t\tstartIcon={<HighlightOffIcon />}\n\t\t\t\t\t>\n\t\t\t\t\t\tClose\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\n\t\t\t\t{createElement(tip, {})}\n\t\t\t</Drawer>\n\t\t</>\n\t)\n}\n\nexport default PageTip\n","import { makeStyles } from \"@material-ui/core\"\n\n// Section title styles\nconst useSTStyles = makeStyles((theme) => ({\n\ttitle: {\n\t\tfontWeight: 500,\n\t\tmarginBottom: theme.spacing(2),\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tfontSize: theme.typography.h5.fontSize,\n\t\t},\n\t},\n}))\n\nexport default useSTStyles\n","import React, { ReactElement } from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport { SectionTitleProps } from \"./_config/shape\"\nimport useSTStyles from \"./_config/styles\"\n\n/**\n * Abstraction for the Typography for a consistent heading for sections\n *\n * @param {SectionTitleProps} props Mimics the props for `<Typography>`\n * @returns ReactElement\n */\nconst SectionTitle = ({\n\tchildren,\n\tclassName,\n\t// eslint-disable-next-line\n\t...props\n}: SectionTitleProps): ReactElement => {\n\tconst styles = useSTStyles()\n\treturn (\n\t\t<Typography\n\t\t\tvariant=\"h4\"\n\t\t\tcolor=\"textPrimary\"\n\t\t\tclassName={`${styles.title} ${className}`}\n\t\t\t// eslint-disable-next-line react/jsx-props-no-spreading\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</Typography>\n\t)\n}\n\nexport default SectionTitle\n","/**\n * Add Padding\n *\n * add white space around some content\n */\n\nimport { format } from \"date-fns\"\n\nexport const addPadding = (\n\tcontent: any, // eslint-disable-line\n\tmargin = 10\n) => ({\n\tmargin,\n\tcolumns: [content],\n})\n\n/**\n * Page and margin defaults\n */\n\nexport const pageDefaultSettings = () => ({\n\t// watermark: {\n\t// \ttext: \"draft\",\n\t// \tcolor: \"blue\",\n\t// \topacity: 0.3,\n\t// \tbold: true,\n\t// \titalics: false,\n\t// },\n\n\tpageSize: \"A4\",\n\tpageMargins: [0, 0, 0, 25],\n\tfooter: {\n\t\tcolumns: [\n\t\t\t{\n\t\t\t\ttext: `Created on the ${format(new Date(), \"do 'of' MMMM yyyy\")}`,\n\t\t\t\talignment: \"center\",\n\t\t\t\tfontSize: 12,\n\t\t\t\tcolor: \"#333\",\n\t\t\t},\n\t\t],\n\t},\n})\n\n/**\n * Frame Content\n *\n * Put content in a table with a border\n */\n\nexport const frameContent = (\n\tinner: any, // eslint-disable-line\n\tstyle: string[] = []\n) => ({\n\ttable: {\n\t\twidths: [\"*\"], // to make it full length\n\t\tbody: [[inner]],\n\t},\n\tstyle,\n})\n\n/**\n * Table with Text in it for top of page\n * Requires a pageHeader style\n */\n\nexport const pageHeading = (text: string) => {\n\tconst content = frameContent(addPadding(text), [\"pageHeader\"])\n\n\treturn {\n\t\t...content,\n\t\tlayout: \"noBorders\",\n\t}\n}\n\n/**\n * Add 20 points of padding on a full page\n */\n\n// eslint-disable-next-line\nexport const pagePadding = (content: any) => addPadding(content, 20)\n\n/**\n * Basic table of key .... value\n */\n\nexport const basicTable = (\n\titems: any, // eslint-disable-line\n\tstyle: string[] = []\n) => ({\n\ttable: {\n\t\twidths: [\"70%\", \"*\"],\n\t\tbody: items,\n\t},\n\tstyle,\n\tlayout: \"noBorders\",\n})\n","import pdfMake from \"pdfmake/build/pdfmake\"\nimport { detect } from \"detect-browser\"\n\nexport default function servePDF(pdf: pdfMake.TCreatedPdf): void {\n\tconst browser = detect()\n\tif (browser?.name === \"ie\" || browser?.name === \"edge\") {\n\t\tpdf.download()\n\t\treturn\n\t}\n\n\tpdf.open()\n}\n","/* eslint-disable import/prefer-default-export */\n\nimport React, { ReactElement } from \"react\"\nimport { Typography } from \"@material-ui/core\"\nimport { QuestionOptions } from \"../../_config/shape\"\nimport { getOptionByAnswer } from \"../../_config/utilities\"\nimport { answerTheming, questions } from \"../../_config/data\"\n\n/**\n * Checks if a question has a answer and displays the answer\n * with a theme\n *\n * @param {number} idx Question index\n * @param {QuestionOptions[]|undefined} answers Answers given in the quiz\n * @returns (boolean | ReactElement)\n */\nexport const answerText = (\n\tidx: number,\n\tanswers: QuestionOptions[] | undefined\n): ReactElement | boolean => {\n\tif (answers && typeof answers[idx] !== \"undefined\") {\n\t\tconst { color } = getOptionByAnswer(answers[idx], answerTheming)\n\t\treturn (\n\t\t\t<Typography style={{ color, fontWeight: 500 }}>\n\t\t\t\t{questions[idx].options[answers[idx]]}\n\t\t\t</Typography>\n\t\t)\n\t}\n\n\treturn false\n}\n","import React, { ReactElement } from \"react\"\nimport { List, ListItem, ListItemText, Box } from \"@material-ui/core\"\nimport { fourQuestionsContent, answerTheming } from \"../_config/data\"\nimport useFourQsStyles from \"./_config/styles\"\nimport { IFourQuestionsProps } from \"./_config/shape\"\nimport { answerText } from \"./_config/utilities\"\nimport ExpandableNav from \"../../ExpandableNav\"\nimport { getOptionByAnswer } from \"../_config/utilities\"\nimport { QuestionOptions } from \"../_config/shape\"\n\n/**\n * Component to render the Four key questions with optional\n * answers, used on the questionnaire summary page\n *\n * @param {QuestionOptions[]} { answers? }\n * @returns ReactElement\n */\nconst FourQuestions = ({ answers }: IFourQuestionsProps): ReactElement => {\n\tconst styles = useFourQsStyles()\n\n\t/**\n\t * Renders the answer related icon next to the question\n\t *\n\t * @param {QuestionOptions} answer\n\t * @returns {ReactElement}\n\t */\n\tconst getIcon = (answer: QuestionOptions): ReactElement => {\n\t\tconst opt = getOptionByAnswer(answer, answerTheming)\n\t\tif (opt) {\n\t\t\treturn <opt.Icon style={{ color: opt.color }} />\n\t\t}\n\n\t\treturn <></>\n\t}\n\n\treturn (\n\t\t<ExpandableNav\n\t\t\ttitle=\"Four Key Questions\"\n\t\t\treactourLabel=\"four-questions-nav\"\n\t\t>\n\t\t\t<Box className={styles.box}>\n\t\t\t\t<List className={styles.list}>\n\t\t\t\t\t{fourQuestionsContent.map(\n\t\t\t\t\t\t(content: string, idx: number): ReactElement => (\n\t\t\t\t\t\t\t<Box key={content} component=\"li\">\n\t\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\t\t\t\t\tclassName={`${styles.listItem} ${\n\t\t\t\t\t\t\t\t\t\tidx === 0 ? styles.listItemFirst : \"\"\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItemText className={styles.listItemText}>\n\t\t\t\t\t\t\t\t\t\t{`${idx + 1}. ${content}`}\n\t\t\t\t\t\t\t\t\t\t<Box className={styles.answerIconRoot}>\n\t\t\t\t\t\t\t\t\t\t\t{answers?.[idx] && getIcon(answers[idx])}\n\t\t\t\t\t\t\t\t\t\t\t{answerText(idx, answers)}\n\t\t\t\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t\t\t\t</ListItemText>\n\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t)\n\t\t\t\t\t)}\n\t\t\t\t</List>\n\t\t\t</Box>\n\t\t</ExpandableNav>\n\t)\n}\n\nexport default FourQuestions\n","/* eslint-disable import/prefer-default-export */\nimport { PossibleActionItems } from \"../../../../state/action-checklist/shape\"\n\n// Action title mapping object\nexport const actionTitleMapping: Record<PossibleActionItems, string> = {\n\tcashInActions: \"Cash IN actions\",\n\tcashOutActions: \"Cash OUT actions\",\n\tplanningBusiness: \"Planning your business actions\",\n\trecordKeeping: \"Record keeping actions\",\n\tfunding: \"Funding your business actions\",\n\tmanaging: \"Managing your cash flow actions\",\n\tplanningCommitments: \"Planning your regular financial commitments actions\",\n\ttracking: \"Tracking your performance actions\",\n\ttransition: \"Selling, closing and succession planning\",\n}\n","/* eslint-disable */\r\nimport pdfMake, { TCreatedPdf } from \"pdfmake/build/pdfmake\"\r\nimport pdfFonts from \"pdfmake/build/vfs_fonts\"\r\nimport { format } from \"date-fns\"\r\nimport { lightBlue } from \"@material-ui/core/colors\"\r\nimport {\r\n\tpageHeading,\r\n\tpagePadding,\r\n\tpageDefaultSettings,\r\n\tbasicTable,\r\n} from \"./PDFLib\"\r\nimport {\r\n\tActionChecklistStruct,\r\n\tActionChecklistNotesStruct,\r\n\tClientId,\r\n\tActionChecklistPriorityStruct,\r\n} from \"../../data/_config/shape\"\r\nimport { actionTitleMapping } from \"../ActionChecklist/ActionContainer/_config/data\"\r\nimport { PossibleActionItems } from \"../../state/action-checklist/shape\"\r\nimport ActionChecklistUseCase from \"../../data/ActionChecklist/ChecklistLogic\"\r\nimport ActionNotesUseCase from \"../../data/ActionChecklist/NotesLogic\"\r\nimport ActionPriorityUseCase from \"../../data/ActionChecklist/PriorityLogic\"\r\n\r\npdfMake.vfs = pdfFonts.pdfMake.vfs\r\n\r\nconst itemsSection = (items: ActionChecklistStruct[]) => {\r\n\tif (items.length === 0) {\r\n\t\treturn {\r\n\t\t\ttext: \"No action items\",\r\n\t\t\tstyle: \"noResult\",\r\n\t\t}\r\n\t}\r\n\r\n\treturn basicTable(\r\n\t\titems.map(({ description, reviewBy, completed }) => [\r\n\t\t\t{\r\n\t\t\t\ttext: description || \"No description provided\",\r\n\t\t\t\tstyle: [\r\n\t\t\t\t\tdescription === \"\" ? \"noResult\" : \"\",\r\n\t\t\t\t\tcompleted ? \"completed\" : \"\",\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: format(reviewBy, \"dd/MM/yyyy\"),\r\n\t\t\t\tstyle: [completed ? \"completed\" : \"\"],\r\n\t\t\t},\r\n\t\t])\r\n\t)\r\n}\r\n\r\nexport default async (\r\n\ttitle: string,\r\n\tchecklistCollection: ActionChecklistStruct[],\r\n\tnotes: ActionChecklistNotesStruct[],\r\n\tpriority: ActionChecklistPriorityStruct[]\r\n): Promise<TCreatedPdf> => {\r\n\tconst docDefinition: any = {\r\n\t\t...pageDefaultSettings(),\r\n\r\n\t\tcontent: [\r\n\t\t\tpageHeading(`${title} - Action Checklist`),\r\n\t\t\tpagePadding([\r\n\t\t\t\t...(Object.keys(actionTitleMapping) as PossibleActionItems[]).map(\r\n\t\t\t\t\t(value, idx) => {\r\n\t\t\t\t\t\tconst arr = []\r\n\t\t\t\t\t\tconst items = checklistCollection.filter(\r\n\t\t\t\t\t\t\t(i) => i.actionContainer === value\r\n\t\t\t\t\t\t)\r\n\r\n\t\t\t\t\t\tconst note = notes.filter((i) => i.actionContainer === value)\r\n\t\t\t\t\t\tconst prior = priority.filter((i) => i.actionContainer === value)\r\n\r\n\t\t\t\t\t\tif (items.length === 0 || prior.length < 1) return \"\"\r\n\r\n\t\t\t\t\t\tconst sortedItems = prior[0].order\r\n\t\t\t\t\t\t\t.map((p) => {\r\n\t\t\t\t\t\t\t\tconst idx = items.findIndex((x) => x?.id === p)\r\n\t\t\t\t\t\t\t\treturn items[idx]\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.filter((v) => typeof v !== \"undefined\")\r\n\r\n\t\t\t\t\t\tif (idx !== 0) arr.push(\" \")\r\n\t\t\t\t\t\tarr.push({ text: actionTitleMapping[value], style: \"heading\" })\r\n\t\t\t\t\t\tarr.push(itemsSection(sortedItems))\r\n\t\t\t\t\t\tif (note.length > 0 && note[0].notes !== \"\") {\r\n\t\t\t\t\t\t\tarr.push(\" \")\r\n\t\t\t\t\t\t\tarr.push({ text: \"Notes\", style: \"subHeading\" })\r\n\t\t\t\t\t\t\tarr.push(note[0].notes)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn arr\r\n\t\t\t\t\t}\r\n\t\t\t\t),\r\n\t\t\t]),\r\n\t\t],\r\n\r\n\t\tstyles: {\r\n\t\t\tpageHeader: {\r\n\t\t\t\tfontSize: 20,\r\n\t\t\t\tbold: true,\r\n\t\t\t\tfillColor: lightBlue[\"800\"],\r\n\t\t\t\tcolor: \"white\",\r\n\t\t\t\talignment: \"center\",\r\n\t\t\t},\r\n\t\t\theading: {\r\n\t\t\t\tfontSize: 16,\r\n\t\t\t\tbold: true,\r\n\t\t\t},\r\n\t\t\tsubHeading: {\r\n\t\t\t\tfontSize: 14,\r\n\t\t\t\tbold: true,\r\n\t\t\t},\r\n\t\t\trightAlign: {\r\n\t\t\t\talignment: \"right\",\r\n\t\t\t},\r\n\t\t\tnoResult: {\r\n\t\t\t\titalics: true,\r\n\t\t\t\tcolor: \"#333\",\r\n\t\t\t},\r\n\t\t\tcompleted: {\r\n\t\t\t\tdecoration: \"lineThrough\",\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tdefaultStyle: {\r\n\t\t\tfontSize: 15,\r\n\t\t\tbold: false,\r\n\t\t},\r\n\t}\r\n\treturn pdfMake.createPdf(docDefinition)\r\n}\r\n"],"sourceRoot":""}