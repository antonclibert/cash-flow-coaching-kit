{"version":3,"sources":["components/HealthCheck/Questionnaire/_config/styles.ts","components/HealthCheck/Questionnaire/_partials/OptionTile.tsx","components/NoClientError/NoClientError.tsx","components/HealthCheck/Questionnaire/Questionnaire.tsx","content/tips/HCQuestionnaireTips.tsx","pages/HealthCheck/questionnaire.tsx","content/tips/style.ts","components/PageTip/_config/style.ts","components/PageTip/PageTip.tsx","components/SectionTitle/_config/styles.ts","components/SectionTitle/SectionTitle.tsx","data/healthChecks/HealthCheckLogic.ts"],"names":["useQuestionnaireStyles","makeStyles","theme","actions","display","flexDirection","marginTop","spacing","breakpoints","up","justifyContent","down","marginBottom","subtitle","lineHeight","title","fontSize","typography","h5","useOptionTileStyles","cardContent","alignItems","OptionTile","optionKey","option","currentAnswer","changeAnswer","style","getOptionByAnswer","answerTheming","muiTheme","useTheme","Card","onClick","e","boxShadow","palette","primary","main","CardActionArea","CardContent","className","Typography","variant","Icon","color","NoClientError","useContext","ClientContext","state","currentClient","clientSynced","id","Questionnaire","useCurrentClient","styles","useState","answers","setAnswers","questionCount","setQuestionCount","questions","currentQuestion","setCurrentQuestion","generateKey","key","history","useHistory","stepLabels","map","q","question","useEffect","answer","preventDefault","copy","isFinalQuestion","length","handleSubmit","a","alert","HealthCheckUseCase","create","clientId","createdAt","newTimestamp","dbKey","push","routeVarReplacement","PrivateRoutes","HealthCheckSummary","console","error","stack","Box","Stepper","activeStep","orientation","paddingLeft","paddingRight","label","Step","StepLabel","StepContent","Grid","container","Object","keys","options","idx","item","xs","sm","constructKey","Button","startIcon","disabled","endIcon","HCQuestionnaireTips","useSharedTipStyling","List","list","component","HCQuestionnaire","role","md","SectionTitle","Spacer","space","Divider","ExpandableNav","disablePadding","ListItem","button","Link","to","HealthCheckList","ListItemIcon","ListItemText","PageTip","tip","listStyle","usePageTipStyles","root","position","left","bottom","icon","marginRight","drawer","padding","maxWidth","width","closeBox","paddingBottom","borderBottom","borderBottomColor","grey","borderBottomStyle","drawerOpen","setDrawerOpen","toggleDrawer","open","event","KeyboardEvent","type","Fab","Drawer","anchor","onClose","classes","paper","createElement","useSTStyles","fontWeight","children","props","HealthCheckDB","healthChecks","this","database","transaction","table","name","where","first","equals","toArray","ILogicLayer"],"mappings":"waAGaA,EAAyBC,aAAW,SAACC,GAAD,YAAY,CAC5DC,SAAO,GACNC,QAAS,OACTC,cAAe,SACfC,UAAWJ,EAAMK,QAAQ,IAHnB,cAILL,EAAMM,YAAYC,GAAG,MAAQ,CAC7BJ,cAAe,MACfK,eAAgB,kBANX,cAQN,uBARM,eASJR,EAAMM,YAAYG,KAAK,MAAQ,CAC/BC,aAAcV,EAAMK,QAAQ,MAVxB,GAcPM,SAAS,aACRP,UAAWJ,EAAMK,QAAQ,GACzBO,WAAY,GACXZ,EAAMM,YAAYG,KAAK,MAAQ,CAC/BL,UAAWJ,EAAMK,QAAQ,KAG3BQ,MAAM,aACLH,aAAcV,EAAMK,QAAQ,IAC3BL,EAAMM,YAAYG,KAAK,MAAQ,CAC/BK,SAAUd,EAAMe,WAAWC,GAAGF,eAMpBG,EAAsBlB,aAAW,iBAAO,CACpDmB,YAAa,CACZhB,QAAS,OACTC,cAAe,SACfgB,WAAY,c,8DCgBCC,EAhCI,SAAC,GAKwB,IAJ3CC,EAI0C,EAJ1CA,UACAC,EAG0C,EAH1CA,OACAC,EAE0C,EAF1CA,cACAC,EAC0C,EAD1CA,aAEMC,EAAQR,IACRjB,EAAQ0B,YAAkBL,EAAWM,KACrCC,EAAWC,cAEjB,OACC,kBAACC,EAAA,EAAD,CACCC,QAAS,SAACC,GACTR,EAAaQ,EAAGX,IAEjBI,MAAO,CACNQ,UACCV,IAAkBF,EAAlB,0BACsBO,EAASM,QAAQC,QAAQC,MAC5C,KAGL,kBAACC,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAaC,UAAWd,EAAMP,aAC7B,kBAACsB,EAAA,EAAD,CAAYC,QAAQ,MAAMnB,GAC1B,kBAACtB,EAAM0C,KAAP,CAAYjB,MAAO,CAAEkB,MAAO3C,EAAM2C,MAAO7B,SAAU,U,SCPzC8B,EA9BO,WACrB,IAAM5C,EAAQ6B,cAD2B,EAIrCgB,qBAAWC,KADdC,MAASC,EAH+B,EAG/BA,cAcV,OAjByC,EAGhBC,cAWE,qBAAlBD,GACqB,qBAArBA,EAAcE,GAWtB,qCARA,kBAACV,EAAA,EAAD,CACCC,QAAQ,KACRE,MAAM,QACNlB,MAAO,CAAErB,UAAWJ,EAAMK,QAAQ,GAAIK,aAAcV,EAAMK,QAAQ,KAHnE,oD,0BCwJa8C,EAtJO,WAAqB,IAAD,EACjBC,cAAjBJ,EADkC,oBAEnCK,EAASvD,IAF0B,EAGXwD,mBAA4B,IAHjB,mBAGlCC,EAHkC,KAGzBC,EAHyB,OAICF,mBAAiB,GAJlB,mBAIlCG,EAJkC,KAInBC,EAJmB,OAKKJ,mBAC7CK,IAAUF,IAN8B,mBAKlCG,EALkC,KAKjBC,EALiB,OAQ3BP,mBAASQ,eAAhBC,EARkC,oBASnCC,EAAUC,cACVC,EAAuBP,IAAUQ,KAAI,SAACC,GAAD,OAAOA,EAAEC,YAEpDC,qBAAU,WACTT,EAAmBF,IAAUF,MAC3B,CAACA,IASJ,IAAMjC,EAAe,SACpBQ,EACAuC,GAEAvC,EAAEwC,iBACF,IAAMC,EAAI,YAAOlB,GACjBkB,EAAKhB,GAAiBc,EACtBf,EAAW,YAAIiB,KAQVC,EAAkB,kBAAejB,IAAkBE,IAAUgB,OAAS,GAmBtEC,EAAY,uCAAG,4BAAAC,EAAA,gEACf7B,QADe,IACfA,OADe,EACfA,EAAeE,GADA,uBAGnB4B,MACC,kFAJkB,mDAUCC,IAAmBC,OAAO,CAC7CC,SAAUjC,EAAcE,GACxBK,UACA2B,UAAWC,gBAbO,OAUbC,EAVa,OAZMlC,EA2BPkC,EA1BnBpB,EAAQqB,KACPC,YAAoBC,IAAcC,mBAAoB,CAAC,CAAC,MAAD,UAAWtC,OAU/C,kDAkBnBuC,QAAQC,MAAM,KAAEC,OAAF,MAlBK,kCAZK,IAACzC,IAYN,qBAAH,qDAsBlB,OACC,kBAAC0C,EAAA,EAAD,KACC,kBAAC,EAAD,MAEA,kBAACC,EAAA,EAAD,CACCC,WAAYrC,EACZsC,YAAY,WACZtE,MAAO,CAAEuE,YAAa,EAAGC,aAAc,IAEtC/B,EAAWC,KACX,SAAC+B,GACA,OACC,kBAACC,EAAA,EAAD,CAAMpC,IAAKmC,GACV,kBAACE,EAAA,EAAD,KAAYF,GACZ,kBAACG,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAAMC,WAAS,EAAClG,QAAS,GACtBmG,OAAOC,KACR7C,EAAgB8C,SACOvC,KACvB,SAAC7C,EAAyBqF,GAA1B,OACC,kBAACL,EAAA,EAAD,CAAMM,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAG/C,IAAKgD,YAAahD,EAAK4C,IAChD,kBAAC,EAAD,CACCtF,UAAWC,EACXA,OAAQsC,EAAgB8C,QAAQpF,GAChCE,aAAcA,EACdD,cAAegC,EAAQE,KAAkB,SAM9C,kBAACmC,EAAA,EAAD,CAAKrD,UAAWc,EAAOpD,SACtB,kBAAC+G,EAAA,EAAD,CACCC,UAAW,kBAAC,IAAD,MACXxE,QAAQ,WACRE,MAAM,UACNuE,SAA4B,IAAlBzD,EACV1B,QAAS,SAACC,GACTA,EAAEwC,iBACFd,EAAiBD,EAAgB,KAPnC,qBAYA,kBAACuD,EAAA,EAAD,CACCG,QAAS,kBAAC,IAAD,MACT1E,QAAQ,YACRE,MAAM,UACNuE,SAA4C,qBAA3B3D,EAAQE,GACzB1B,QAAS,SAACC,GACTA,EAAEwC,iBACGE,IAGJE,IAFAlB,EAAiBD,EAAgB,KAMlCiB,IAAoB,eAAiB,0B,4BCnIlC0C,GA3Ba,WAC3B,IAAM/D,EAASgE,eAEf,OACC,oCACC,kBAACC,EAAA,EAAD,CAAM/E,UAAWc,EAAOkE,MACvB,kBAAC/E,EAAA,EAAD,CAAYgF,UAAU,MAAtB,uDAGA,kBAAChF,EAAA,EAAD,CAAYgF,UAAU,MAAtB,oDAOD,kBAAChF,EAAA,EAAD,CAAYC,QAAQ,MAApB,cACA,kBAAC6E,EAAA,EAAD,CAAM/E,UAAWc,EAAOkE,MACvB,kBAAC/E,EAAA,EAAD,CAAYgF,UAAU,MAAtB,yDAGA,kBAAChF,EAAA,EAAD,CAAYgF,UAAU,MAAtB,kCC+DWC,UAlES,WACvB,OACC,oCACC,kBAAC,IAAD,CAAeC,KAAK,QACnB,kBAACpB,EAAA,EAAD,CAAMC,WAAS,EAAClG,QAAS,GACxB,kBAACiG,EAAA,EAAD,CAAMM,MAAI,EAACC,GAAI,GAAIc,GAAI,GACtB,kBAACC,GAAA,EAAD,CAAcJ,UAAU,MAAxB,gBACA,kBAACK,EAAA,EAAD,MACA,kBAACjC,EAAA,EAAD,CAAKrD,UAAU,gBACd,kBAACC,EAAA,EAAD,4EAIA,kBAACA,EAAA,EAAD,CAAYD,UAAU,kBAAtB,0CAGA,kBAAC+E,EAAA,EAAD,CAAME,UAAU,KAAKjF,UAAU,WAC9B,kBAACC,EAAA,EAAD,CAAYgF,UAAU,MAAtB,uDAGA,kBAAChF,EAAA,EAAD,CAAYgF,UAAU,MAAtB,uDAID,kBAAChF,EAAA,EAAD,0EAIA,kBAACA,EAAA,EAAD,oGAIA,kBAACA,EAAA,EAAD,mHAKD,kBAACqF,EAAA,EAAD,CAAQC,MAAO,IACf,kBAACC,EAAA,EAAD,MACA,kBAACF,EAAA,EAAD,MACA,kBAAC,EAAD,OAED,kBAACvB,EAAA,EAAD,CAAMM,MAAI,EAACC,GAAI,GAAIc,GAAI,GACtB,kBAACK,EAAA,EAAD,KACC,kBAACV,EAAA,EAAD,CAAME,UAAU,MAAMS,gBAAc,GACnC,kBAACC,EAAA,EAAD,CACCC,QAAM,EACNX,UAAWY,IACXC,GAAI9C,IAAc+C,iBAElB,kBAACC,EAAA,EAAD,KACC,kBAAC,IAAD,OAED,kBAACC,EAAA,EAAD,kCAQN,kBAACC,EAAA,EAAD,CAASC,IAAKtB,Q,iCCxFjB,aAGMC,EAAsBtH,aAAW,SAACC,GAAD,MAAY,CAClDuH,KAAM,CACLoB,UAAW,OACX3C,YAAahG,EAAMK,QAAQ,QAIdgH,O,wLCiBAuB,EAzBU7I,aAAW,SAACC,GAAD,MAAY,CAC/C6I,KAAM,CACLC,SAAU,QACVC,KAAM/I,EAAMK,QAAQ,GACpB2I,OAAQhJ,EAAMK,QAAQ,IAEvB4I,KAAM,CACLC,YAAalJ,EAAMK,QAAQ,IAE5B8I,OAAQ,CACPC,QAASpJ,EAAMK,QAAQ,GACvBgJ,SAAU,QACVC,MAAO,QAERC,SAAU,CACTrJ,QAAS,OACTM,eAAgB,gBAChBE,aAAcV,EAAMK,QAAQ,GAC5BmJ,cAAexJ,EAAMK,QAAQ,GAC7BoJ,aAAc,EACdC,kBAAmB1J,EAAMkC,QAAQyH,KAAK,KACtCC,kBAAmB,aCgDNnB,EA1DC,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,IACZjH,EAAQmH,IADsC,EAEhBtF,oBAAkB,GAFF,mBAE7CuG,EAF6C,KAEjCC,EAFiC,KAU9CC,EAAe,SAACC,GAAD,OAAmB,SACvCC,GAEIA,aAAiBC,eAEJ,YAAfD,EAAME,OACS,QAAdF,EAAMlG,KAA+B,UAAdkG,EAAMlG,MAOhC+F,EAAcE,KAGf,OACC,oCACC,yBAAKzH,UAAWd,EAAMoH,KAAMnB,KAAK,iBAChC,kBAAC0C,EAAA,EAAD,CAAKzH,MAAM,YAAYZ,QAASgI,GAAa,GAAOtH,QAAQ,YAC3D,kBAAC,IAAD,CAAiBF,UAAWd,EAAMwH,OADnC,SAKD,kBAACoB,EAAA,EAAD,CACCC,OAAO,OACPN,KAAMH,EACNU,QAASR,GAAa,GACtBS,QAAS,CACRC,MAAOhJ,EAAM0H,SAGd,kBAACvD,EAAA,EAAD,CAAKrD,UAAWd,EAAM8H,UACrB,kBAAC/G,EAAA,EAAD,CAAYC,QAAQ,MAApB,QACA,kBAACuE,EAAA,EAAD,CACCjF,QAASgI,GAAa,GACtB9C,UAAW,kBAAC,IAAD,OAFZ,UAQAyD,wBAAchC,EAAK,Q,yHCpDTiC,EAVK5K,aAAW,SAACC,GAAD,MAAY,CAC1Ca,MAAM,aACL+J,WAAY,IACZlK,aAAcV,EAAMK,QAAQ,IAC3BL,EAAMM,YAAYG,KAAK,MAAQ,CAC/BK,SAAUd,EAAMe,WAAWC,GAAGF,eCsBlB8G,EAnBM,SAAC,GAIkB,IAHvCiD,EAGsC,EAHtCA,SACAtI,EAEsC,EAFtCA,UACGuI,EACmC,wCAChCzH,EAASsH,IACf,OACC,kBAACnI,EAAA,EAAD,eACCC,QAAQ,KACRE,MAAM,cACNJ,UAAS,UAAKc,EAAOxC,MAAZ,YAAqB0B,IAE1BuI,GAEHD,K,uFCqCE9F,EAAqB,I,kDAtC1B,aAAe,uCACRgG,IAAeA,IAAcC,c,2DAYnC9H,EACA+B,GAC8C,IAAD,OAC7C,OAAOgG,KAAKC,SAASC,YAAY,IAAKF,KAAKG,MAAMC,MAAM,WACtD,OAAO,EAAKD,MAAME,MAAM,CAAEpI,KAAI+B,aAAYsG,a,6CAY3CtG,GACoC,IAAD,OACnC,OAAOgG,KAAKC,SAASC,YAAY,IAAKF,KAAKG,MAAMC,MAAM,WACtD,OAAO,EAAKD,MAAME,MAAM,YAAYE,OAAOvG,GAAUwG,iB,GAzCzBC,MAiDhB3G","file":"static/js/28.60a773aa.chunk.js","sourcesContent":["import { makeStyles } from \"@material-ui/core\"\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const useQuestionnaireStyles = makeStyles((theme) => ({\r\n\tactions: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\tmarginTop: theme.spacing(5),\r\n\t\t[theme.breakpoints.up(\"sm\")]: {\r\n\t\t\tflexDirection: \"row\",\r\n\t\t\tjustifyContent: \"space-between\",\r\n\t\t},\r\n\t\t\"& button:first-child\": {\r\n\t\t\t[theme.breakpoints.down(\"sm\")]: {\r\n\t\t\t\tmarginBottom: theme.spacing(1),\r\n\t\t\t},\r\n\t\t},\r\n\t},\r\n\tsubtitle: {\r\n\t\tmarginTop: theme.spacing(2),\r\n\t\tlineHeight: 1,\r\n\t\t[theme.breakpoints.down(\"sm\")]: {\r\n\t\t\tmarginTop: theme.spacing(4),\r\n\t\t},\r\n\t},\r\n\ttitle: {\r\n\t\tmarginBottom: theme.spacing(3),\r\n\t\t[theme.breakpoints.down(\"sm\")]: {\r\n\t\t\tfontSize: theme.typography.h5.fontSize,\r\n\t\t},\r\n\t},\r\n}))\r\n\r\n// Option tile styles\r\nexport const useOptionTileStyles = makeStyles(() => ({\r\n\tcardContent: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n}))\r\n","import React, { ReactElement, MouseEvent } from \"react\"\r\nimport {\r\n\tCard,\r\n\tCardActionArea,\r\n\tCardContent,\r\n\tTypography,\r\n\tuseTheme,\r\n} from \"@material-ui/core\"\r\nimport { getOptionByAnswer } from \"../../_config/utilities\"\r\nimport { answerTheming } from \"../../_config/data\"\r\nimport { useOptionTileStyles } from \"../_config/styles\"\r\nimport { IQuestionnaireOptions } from \"../_config/shape\"\r\n\r\n/**\r\n * A single tile for the Health check questionnaire\r\n *\r\n * @param {QuestionOptions} {optionKey}\r\n * @param {string} {option}\r\n * @param {(QuestionOptions | boolean)} {currentAnswer}\r\n * @param {Function} {changeAnswer}\r\n * @returns ReactElement\r\n */\r\nconst OptionTile = ({\r\n\toptionKey,\r\n\toption,\r\n\tcurrentAnswer,\r\n\tchangeAnswer,\r\n}: IQuestionnaireOptions): ReactElement => {\r\n\tconst style = useOptionTileStyles()\r\n\tconst theme = getOptionByAnswer(optionKey, answerTheming)\r\n\tconst muiTheme = useTheme()\r\n\r\n\treturn (\r\n\t\t<Card\r\n\t\t\tonClick={(e: MouseEvent<HTMLDivElement>): void => {\r\n\t\t\t\tchangeAnswer(e, optionKey)\r\n\t\t\t}}\r\n\t\t\tstyle={{\r\n\t\t\t\tboxShadow:\r\n\t\t\t\t\tcurrentAnswer === optionKey\r\n\t\t\t\t\t\t? `inset 0 0 0 3px ${muiTheme.palette.primary.main}`\r\n\t\t\t\t\t\t: \"\",\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<CardActionArea>\r\n\t\t\t\t<CardContent className={style.cardContent}>\r\n\t\t\t\t\t<Typography variant=\"h6\">{option}</Typography>\r\n\t\t\t\t\t<theme.Icon style={{ color: theme.color, fontSize: 50 }} />\r\n\t\t\t\t</CardContent>\r\n\t\t\t</CardActionArea>\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nexport default OptionTile\r\n","import React, { ReactElement, useContext } from \"react\"\r\nimport { Typography } from \"@material-ui/core\"\r\nimport { useTheme } from \"@material-ui/core/styles\"\r\nimport { ClientContext } from \"../../state/client\"\r\n\r\n/**\r\n * Displays component if there is no current client\r\n *\r\n * @returns ReactElement\r\n */\r\nconst NoClientError = (): ReactElement => {\r\n\tconst theme = useTheme()\r\n\tconst {\r\n\t\tstate: { currentClient, clientSynced },\r\n\t} = useContext(ClientContext)\r\n\r\n\t/**\r\n\t * Checks if the current client is undefined after syncing with\r\n\t * the indexeddb\r\n\t *\r\n\t * @returns boolean\r\n\t */\r\n\tconst noClient = (): boolean =>\r\n\t\tclientSynced &&\r\n\t\t(typeof currentClient === \"undefined\" ||\r\n\t\t\ttypeof currentClient.id === \"undefined\")\r\n\r\n\treturn noClient() ? (\r\n\t\t<Typography\r\n\t\t\tvariant=\"h6\"\r\n\t\t\tcolor=\"error\"\r\n\t\t\tstyle={{ marginTop: theme.spacing(2), marginBottom: theme.spacing(2) }}\r\n\t\t>\r\n\t\t\tPlease select or add a client before continuing\r\n\t\t</Typography>\r\n\t) : (\r\n\t\t<></>\r\n\t)\r\n}\r\n\r\nexport default NoClientError\r\n","import React, { useState, ReactElement, useEffect, MouseEvent } from \"react\"\r\nimport {\r\n\tBox,\r\n\tGrid,\r\n\tButton,\r\n\tStepper,\r\n\tStep,\r\n\tStepLabel,\r\n\tStepContent,\r\n} from \"@material-ui/core\"\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\"\r\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { useQuestionnaireStyles } from \"./_config/styles\"\r\nimport { questions } from \"../_config/data\"\r\nimport { IQuestionStructure, QuestionOptions } from \"../_config/shape\"\r\nimport { constructKey, generateKey } from \"../../../util/lists/key\"\r\nimport { routeVarReplacement, PrivateRoutes } from \"../../../util/routes/routes\"\r\nimport { OptionTile } from \"./_partials\"\r\nimport NoClientError from \"../../NoClientError\"\r\nimport HealthCheckUseCase from \"../../../data/healthChecks/HealthCheckLogic\"\r\nimport { newTimestamp } from \"../../../util/dates\"\r\nimport useCurrentClient from \"../../../state/client/useCurrentClient\"\r\n\r\n/**\r\n * Questionnaire component for the Health checks\r\n * handles the logic for answering and submitting the quiz\r\n *\r\n * @returns ReactElement\r\n */\r\nconst Questionnaire = (): ReactElement => {\r\n\tconst [currentClient] = useCurrentClient()\r\n\tconst styles = useQuestionnaireStyles()\r\n\tconst [answers, setAnswers] = useState<QuestionOptions[]>([])\r\n\tconst [questionCount, setQuestionCount] = useState<number>(0)\r\n\tconst [currentQuestion, setCurrentQuestion] = useState<IQuestionStructure>(\r\n\t\tquestions[questionCount]\r\n\t)\r\n\tconst [key] = useState(generateKey())\r\n\tconst history = useHistory()\r\n\tconst stepLabels: string[] = questions.map((q) => q.question)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetCurrentQuestion(questions[questionCount])\r\n\t}, [questionCount])\r\n\r\n\t/**\r\n\t * Changes the selected answer for the current question\r\n\t *\r\n\t * @param {MouseEvent<HTMLDivElement>} e Change event from clicking on the option\r\n\t * @param {QuestionOptions} answer Answer that was selected\r\n\t * @returns void\r\n\t */\r\n\tconst changeAnswer = (\r\n\t\te: MouseEvent<HTMLDivElement>,\r\n\t\tanswer: QuestionOptions\r\n\t): void => {\r\n\t\te.preventDefault()\r\n\t\tconst copy = [...answers]\r\n\t\tcopy[questionCount] = answer\r\n\t\tsetAnswers([...copy])\r\n\t}\r\n\r\n\t/**\r\n\t * Conditional to check if the user is on the final question\r\n\t *\r\n\t * @returns boolean\r\n\t */\r\n\tconst isFinalQuestion = (): boolean => questionCount === questions.length - 1\r\n\r\n\t/**\r\n\t * Redirects to the summary page\r\n\t *\r\n\t * @param {number} id ID of the health check to redirect to\r\n\t */\r\n\tconst redirectToSummary = (id: string): void => {\r\n\t\thistory.push(\r\n\t\t\trouteVarReplacement(PrivateRoutes.HealthCheckSummary, [[\":id\", `${id}`]])\r\n\t\t)\r\n\t}\r\n\r\n\t/**\r\n\t * Submits the questionnaire and redirects to the summary page\r\n\t *\r\n\t * @async\r\n\t * @returns Promise<void>\r\n\t */\r\n\tconst handleSubmit = async (): Promise<void> => {\r\n\t\tif (!currentClient?.id) {\r\n\t\t\t// eslint-disable-next-line no-alert\r\n\t\t\talert(\r\n\t\t\t\t\"A client needs to be selected, please add or select a client before submitting\"\r\n\t\t\t)\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst dbKey = await HealthCheckUseCase.create({\r\n\t\t\t\tclientId: currentClient.id,\r\n\t\t\t\tanswers,\r\n\t\t\t\tcreatedAt: newTimestamp(),\r\n\t\t\t})\r\n\t\t\tredirectToSummary(dbKey)\r\n\t\t} catch (e) {\r\n\t\t\t// TODO: Proper error checking\r\n\t\t\tconsole.error(e.stack || e)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Box>\r\n\t\t\t<NoClientError />\r\n\r\n\t\t\t<Stepper\r\n\t\t\t\tactiveStep={questionCount}\r\n\t\t\t\torientation=\"vertical\"\r\n\t\t\t\tstyle={{ paddingLeft: 0, paddingRight: 0 }}\r\n\t\t\t>\r\n\t\t\t\t{stepLabels.map(\r\n\t\t\t\t\t(label): ReactElement => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<Step key={label}>\r\n\t\t\t\t\t\t\t\t<StepLabel>{label}</StepLabel>\r\n\t\t\t\t\t\t\t\t<StepContent>\r\n\t\t\t\t\t\t\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t\t\t\t\t\t\t{(Object.keys(\r\n\t\t\t\t\t\t\t\t\t\t\tcurrentQuestion.options\r\n\t\t\t\t\t\t\t\t\t\t) as QuestionOptions[]).map(\r\n\t\t\t\t\t\t\t\t\t\t\t(option: QuestionOptions, idx: number): ReactElement => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} sm={4} key={constructKey(key, idx)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<OptionTile\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toptionKey={option}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toption={currentQuestion.options[option]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchangeAnswer={changeAnswer}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrentAnswer={answers[questionCount] || false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Box className={styles.actions}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tstartIcon={<ChevronLeftIcon />}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={questionCount === 0}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e: MouseEvent<HTMLButtonElement>): void => {\r\n\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetQuestionCount(questionCount - 1)\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tPrevious question\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\tendIcon={<ChevronRightIcon />}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={typeof answers[questionCount] === \"undefined\"}\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e: MouseEvent<HTMLButtonElement>): void => {\r\n\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (!isFinalQuestion()) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetQuestionCount(questionCount + 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleSubmit()\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{isFinalQuestion() ? \"View results\" : \"Next question\"}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t\t\t</StepContent>\r\n\t\t\t\t\t\t\t</Step>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t)}\r\n\t\t\t</Stepper>\r\n\t\t</Box>\r\n\t)\r\n}\r\n\r\nexport default Questionnaire\r\n","import React, { ReactElement } from \"react\"\nimport { Typography, List } from \"@material-ui/core\"\nimport useSharedTipStyling from \"./style\"\n\n/**\n * Tip displayed on the Health check questionnaire page\n *\n * @returns ReactElement\n */\nconst HCQuestionnaireTips = (): ReactElement => {\n\tconst styles = useSharedTipStyling()\n\n\treturn (\n\t\t<>\n\t\t\t<List className={styles.list}>\n\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\tAnswer the questions to assess cash flow knowledge.\n\t\t\t\t</Typography>\n\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\tCheck the results to identify areas of concern.\n\t\t\t\t</Typography>\n\t\t\t\t{/* <Typography component=\"li\">\n\t\t\t\tYou can retake the Health Check to track improvements.\n\t\t\t\t</Typography> */}\n\t\t\t</List>\n\t\t\t<Typography variant=\"h6\">Next Steps</Typography>\n\t\t\t<List className={styles.list}>\n\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\tLook at your results and work through Discover Topics\n\t\t\t\t</Typography>\n\t\t\t\t<Typography component=\"li\">Prepare a Cash Flow Canvas.</Typography>\n\t\t\t</List>\n\t\t</>\n\t)\n}\n\nexport default HCQuestionnaireTips\n","import React, { ReactElement } from \"react\"\nimport {\n\tTypography,\n\tGrid,\n\tList,\n\tListItem,\n\tListItemIcon,\n\tListItemText,\n\tBox,\n\tDivider,\n} from \"@material-ui/core\"\nimport { Link } from \"react-router-dom\"\nimport ListIcon from \"@material-ui/icons/List\"\nimport { PageContainer } from \"../../components/Layouts\"\nimport PageTip from \"../../components/PageTip\"\nimport ExpandableNav from \"../../components/ExpandableNav\"\nimport { PrivateRoutes } from \"../../util/routes/routes\"\nimport Questionnaire from \"../../components/HealthCheck/Questionnaire/Questionnaire\"\nimport Spacer from \"../../components/Spacer\"\nimport SectionTitle from \"../../components/SectionTitle\"\nimport HCQuestionnaireTips from \"../../content/tips/HCQuestionnaireTips\"\n\n/**\n * Health check questionnaire page\n *\n * @returns ReactElement\n */\nconst HCQuestionnaire = (): ReactElement => {\n\treturn (\n\t\t<>\n\t\t\t<PageContainer role=\"main\">\n\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t<Grid item xs={12} md={9}>\n\t\t\t\t\t\t<SectionTitle component=\"h1\">Health Check</SectionTitle>\n\t\t\t\t\t\t<Spacer />\n\t\t\t\t\t\t<Box className=\"content-area\">\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\tTen easy questions to learn more about the health of your\n\t\t\t\t\t\t\t\tbusiness.\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography className=\"list-describer\">\n\t\t\t\t\t\t\t\tThis quick Health Check will help you:\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<List component=\"ul\" className=\"ul-list\">\n\t\t\t\t\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\t\t\t\t\tassess your current knowledge of business cash flow\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography component=\"li\">\n\t\t\t\t\t\t\t\t\tidentify areas to improve your cash flow knowledge\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\tYour results will show you key topics and activities to\n\t\t\t\t\t\t\t\tcomplete.\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\tAs you make changes to your business, you can use the Health\n\t\t\t\t\t\t\t\tCheck to review your progress.\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t\tIf you want to see your previous Health Checks, see ‘Saved\n\t\t\t\t\t\t\t\tHealth Checks’ in the control panel.\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t<Spacer space={3} />\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Spacer />\n\t\t\t\t\t\t<Questionnaire />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12} md={3}>\n\t\t\t\t\t\t<ExpandableNav>\n\t\t\t\t\t\t\t<List component=\"nav\" disablePadding>\n\t\t\t\t\t\t\t\t<ListItem\n\t\t\t\t\t\t\t\t\tbutton\n\t\t\t\t\t\t\t\t\tcomponent={Link}\n\t\t\t\t\t\t\t\t\tto={PrivateRoutes.HealthCheckList}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ListItemIcon>\n\t\t\t\t\t\t\t\t\t\t<ListIcon />\n\t\t\t\t\t\t\t\t\t</ListItemIcon>\n\t\t\t\t\t\t\t\t\t<ListItemText>Saved Health Checks</ListItemText>\n\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t</List>\n\t\t\t\t\t\t</ExpandableNav>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</PageContainer>\n\n\t\t\t<PageTip tip={HCQuestionnaireTips} />\n\t\t</>\n\t)\n}\n\nexport default HCQuestionnaire\n","import { makeStyles } from \"@material-ui/core\"\r\n\r\n// Shared styling for the tip components\r\nconst useSharedTipStyling = makeStyles((theme) => ({\r\n\tlist: {\r\n\t\tlistStyle: \"disc\",\r\n\t\tpaddingLeft: theme.spacing(2),\r\n\t},\r\n}))\r\n\r\nexport default useSharedTipStyling\r\n","import { makeStyles } from \"@material-ui/core/styles\"\r\n\r\nconst usePageTipStyles = makeStyles((theme) => ({\r\n\troot: {\r\n\t\tposition: \"fixed\",\r\n\t\tleft: theme.spacing(2),\r\n\t\tbottom: theme.spacing(2),\r\n\t},\r\n\ticon: {\r\n\t\tmarginRight: theme.spacing(1),\r\n\t},\r\n\tdrawer: {\r\n\t\tpadding: theme.spacing(2),\r\n\t\tmaxWidth: \"350px\",\r\n\t\twidth: \"100%\",\r\n\t},\r\n\tcloseBox: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"space-between\",\r\n\t\tmarginBottom: theme.spacing(2),\r\n\t\tpaddingBottom: theme.spacing(2),\r\n\t\tborderBottom: 1,\r\n\t\tborderBottomColor: theme.palette.grey[500],\r\n\t\tborderBottomStyle: \"solid\",\r\n\t},\r\n}))\r\n\r\nexport default usePageTipStyles\r\n","import React, { ReactElement, useState, MouseEvent, createElement } from \"react\"\nimport { Fab, Drawer, Button, Box, Typography } from \"@material-ui/core\"\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\"\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\"\nimport usePageTipStyles from \"./_config/style\"\nimport { IPageTip } from \"./_config/shape\"\n\n/**\n * Renders a page tip tooltip at the bottom left of the page\n *\n * @param {string} {tip} File name (no extension) for the tip component\n * @returns ReactElement\n */\nconst PageTip = ({ tip }: IPageTip): ReactElement => {\n\tconst style = usePageTipStyles()\n\tconst [drawerOpen, setDrawerOpen] = useState<boolean>(false)\n\n\t/**\n\t * Toggles the state of the drawer\n\t *\n\t * @param {Boolean} open State to change the drawer to\n\t * @param {KeyboardEvent|MouseEvent<HTMLButtonElement>} event Event generated by a keypress|click\n\t */\n\tconst toggleDrawer = (open: boolean) => (\n\t\tevent: KeyboardEvent | MouseEvent<HTMLButtonElement>\n\t): void => {\n\t\tif (event instanceof KeyboardEvent) {\n\t\t\tif (\n\t\t\t\tevent.type === \"keydown\" &&\n\t\t\t\t(event.key === \"Tab\" || event.key === \"Shift\")\n\t\t\t) {\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\n\t\t// Change the state of the drawer\n\t\tsetDrawerOpen(open)\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div className={style.root} role=\"complementary\">\n\t\t\t\t<Fab color=\"secondary\" onClick={toggleDrawer(true)} variant=\"extended\">\n\t\t\t\t\t<HelpOutlineIcon className={style.icon} />\n\t\t\t\t\tTips\n\t\t\t\t</Fab>\n\t\t\t</div>\n\t\t\t<Drawer\n\t\t\t\tanchor=\"left\"\n\t\t\t\topen={drawerOpen}\n\t\t\t\tonClose={toggleDrawer(false)}\n\t\t\t\tclasses={{\n\t\t\t\t\tpaper: style.drawer,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Box className={style.closeBox}>\n\t\t\t\t\t<Typography variant=\"h6\">Tips</Typography>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={toggleDrawer(false)}\n\t\t\t\t\t\tstartIcon={<HighlightOffIcon />}\n\t\t\t\t\t>\n\t\t\t\t\t\tClose\n\t\t\t\t\t</Button>\n\t\t\t\t</Box>\n\n\t\t\t\t{createElement(tip, {})}\n\t\t\t</Drawer>\n\t\t</>\n\t)\n}\n\nexport default PageTip\n","import { makeStyles } from \"@material-ui/core\"\r\n\r\n// Section title styles\r\nconst useSTStyles = makeStyles((theme) => ({\r\n\ttitle: {\r\n\t\tfontWeight: 500,\r\n\t\tmarginBottom: theme.spacing(2),\r\n\t\t[theme.breakpoints.down(\"sm\")]: {\r\n\t\t\tfontSize: theme.typography.h5.fontSize,\r\n\t\t},\r\n\t},\r\n}))\r\n\r\nexport default useSTStyles\r\n","import React, { ReactElement } from \"react\"\r\nimport { Typography } from \"@material-ui/core\"\r\nimport { SectionTitleProps } from \"./_config/shape\"\r\nimport useSTStyles from \"./_config/styles\"\r\n\r\n/**\r\n * Abstraction for the Typography for a consistent heading for sections\r\n *\r\n * @param {SectionTitleProps} props Mimics the props for `<Typography>`\r\n * @returns ReactElement\r\n */\r\nconst SectionTitle = ({\r\n\tchildren,\r\n\tclassName,\r\n\t...props\r\n}: SectionTitleProps): ReactElement => {\r\n\tconst styles = useSTStyles()\r\n\treturn (\r\n\t\t<Typography\r\n\t\t\tvariant=\"h4\"\r\n\t\t\tcolor=\"textPrimary\"\r\n\t\t\tclassName={`${styles.title} ${className}`}\r\n\t\t\t// eslint-disable-next-line react/jsx-props-no-spreading\r\n\t\t\t{...props}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</Typography>\r\n\t)\r\n}\r\n\r\nexport default SectionTitle\r\n","import ILogicLayer from \"../_config/logicLayer\"\r\nimport HealthCheckDB from \"./HealthCheckDatabase\"\r\nimport {\r\n\tHealthCheckDataStruct,\r\n\tBaseHealthCheckStruct,\r\n\tHealthCheckId,\r\n\tClientId,\r\n} from \"../_config/shape\"\r\n\r\n/**\r\n * Logic implementation for the Health check database\r\n *\r\n * @class HealthCheckLogic\r\n * @extends {ILogicLayer<HealthCheckDataStruct, BaseHealthCheckStruct>}\r\n */\r\nclass HealthCheckLogic extends ILogicLayer<\r\n\tHealthCheckDataStruct,\r\n\tBaseHealthCheckStruct\r\n> {\r\n\t/**\r\n\t * Creates an instance of HealthCheckLogic.\r\n\t *\r\n\t * @memberof HealthCheckLogic\r\n\t */\r\n\tconstructor() {\r\n\t\tsuper(HealthCheckDB, HealthCheckDB.healthChecks)\r\n\t}\r\n\r\n\t/**\r\n\t * Finds a health check by the id and clientId\r\n\t *\r\n\t * @param {HealthCheckId} id\r\n\t * @param {ClientId} clientId\r\n\t * @returns {Promise<HealthCheckDataStruct>}\r\n\t * @memberof HealthCheckLogic\r\n\t */\r\n\tpublic findByClientId(\r\n\t\tid: HealthCheckId,\r\n\t\tclientId: ClientId\r\n\t): Promise<HealthCheckDataStruct | undefined> {\r\n\t\treturn this.database.transaction(\"r\", this.table.name, () => {\r\n\t\t\treturn this.table.where({ id, clientId }).first()\r\n\t\t})\r\n\t}\r\n\r\n\t/**\r\n\t * Finds all the health checks for a given client\r\n\t *\r\n\t * @param {ClientId} clientId\r\n\t * @returns {Promise<HealthCheckDataStruct[]>}\r\n\t * @memberof HealthCheckLogic\r\n\t */\r\n\tpublic findClientHealthChecks(\r\n\t\tclientId: ClientId\r\n\t): Promise<HealthCheckDataStruct[]> {\r\n\t\treturn this.database.transaction(\"r\", this.table.name, () => {\r\n\t\t\treturn this.table.where(\"clientId\").equals(clientId).toArray()\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// Creates a instance of the logic class and exports the instance\r\nconst HealthCheckUseCase = new HealthCheckLogic()\r\n\r\nexport default HealthCheckUseCase\r\n"],"sourceRoot":""}